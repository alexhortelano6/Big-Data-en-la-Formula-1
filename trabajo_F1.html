<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Alejandro Hortelano Martin (ahormar@alumni.uv.es)">
<meta name="author" content="Victor Gallego Urrea (vicgau@alumni.uv.es)">
<meta name="author" content="Jose Maria Pérez Marco (jomape4@alumni.uv.es)">
<meta name="description" content="Por medio de los datos obtenidos, procederemos a realizar un resumen de las distintas variables y acontecimientos que conforman la competición mundial de Fórmula 1, así como una serie de curiosidades, junto a un análisis de la temporada 2021">
<title>Big Data en la Formula 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./my_favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<style>
    .quarto-title-block .quarto-title-banner {
      color: white;
    }
    </style>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="site_libs/plotly-binding-4.10.0/plotly.js"></script><script src="site_libs/typedarray-0.1/typedarray.min.js"></script><script src="site_libs/jquery-3.5.1/jquery.min.js"></script><link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link rel="stylesheet" href="my_styles.css">
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./imagenes/logoF1.jpeg" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Big Data en la Formula 1</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item compact">
    <a class="nav-link" href="./index.html"><i class="bi bi-house-door" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link active" href="./trabajo_F1.html" aria-current="page">
 <span class="menu-text">Trabajo en equipo</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Slides_F1.html">
 <span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/alexhortelano6"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:<ahormar@alumni.uv.es>"><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-right">
      <div class="quarto-title-block"><div><h1 class="title">Big Data en la Formula 1</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Mostrar todo el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Ocultar todo el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código fuente</a></li></ul></div></div>
                  <div>
        <div class="description">
          <p>Por medio de los datos obtenidos, procederemos a realizar un resumen de las distintas variables y acontecimientos que conforman la competición mundial de Fórmula 1, así como una serie de curiosidades, junto a un análisis de la temporada 2021</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">trabajo Big Data</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autores/as</div>
      <div class="quarto-title-meta-contents">
               <p>Alejandro Hortelano Martin (ahormar@alumni.uv.es) </p>
               <p>Victor Gallego Urrea (vicgau@alumni.uv.es) </p>
               <p>Jose Maria Pérez Marco (jomape4@alumni.uv.es) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Fecha de publicación</div>
      <div class="quarto-title-meta-contents">
        <p class="date">22 de diciembre de 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">En esta página</h2>
   
  <ul>
<li><a href="#introducci%C3%B3n" id="toc-introducción" class="nav-link active" data-scroll-target="#introducci%C3%B3n">Introducción</a></li>
  <li>
<a href="#datos-del-trabajo" id="toc-datos-del-trabajo" class="nav-link" data-scroll-target="#datos-del-trabajo">Datos del trabajo</a>
  <ul class="collapse">
<li><a href="#c%C3%B3digo-r-del-trabajo" id="toc-código-r-del-trabajo" class="nav-link" data-scroll-target="#c%C3%B3digo-r-del-trabajo">Código R del trabajo</a></li>
  </ul>
</li>
  <li><a href="#contextualizaci%C3%B3n-del-campeonato" id="toc-contextualización-del-campeonato" class="nav-link" data-scroll-target="#contextualizaci%C3%B3n-del-campeonato">Contextualización del campeonato</a></li>
  <li>
<a href="#historia-y-curiosidades-en-la-f%C3%B3rmula-1" id="toc-historia-y-curiosidades-en-la-fórmula-1" class="nav-link" data-scroll-target="#historia-y-curiosidades-en-la-f%C3%B3rmula-1">Historia y curiosidades en la Fórmula 1</a>
  <ul class="collapse">
<li><a href="#pilotos-m%C3%A1s-exitosos-en-la-historia" id="toc-pilotos-más-exitosos-en-la-historia" class="nav-link" data-scroll-target="#pilotos-m%C3%A1s-exitosos-en-la-historia">Pilotos más exitosos en la historia</a></li>
  <li><a href="#mejores-pit-stops-en-la-historia-del-campeonato" id="toc-mejores-pit-stops-en-la-historia-del-campeonato" class="nav-link" data-scroll-target="#mejores-pit-stops-en-la-historia-del-campeonato">Mejores Pit-Stops en la historia del campeonato</a></li>
  </ul>
</li>
  <li><a href="#temporada-2021" id="toc-temporada-2021" class="nav-link" data-scroll-target="#temporada-2021">Temporada 2021</a></li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-right" id="quarto-document-content"><section id="introducción" class="level1"><h1>Introducción</h1>
<div class="cell" data-layout-align="center">

</div>
<p>El siguiente trabajo se va a estructurar de la siguiente forma:</p>
<ul>
<li><p>En primer lugar, vamos a realizar una contextualización del campeonato y de sus distintos elementos, mediante diferentes gráficos que hemos realizado utilizando el programa Rstudio. Queriendo enfocar principalmente vuestra atención en las distintas audiencias y su evolución en los últimos años, comparaciones con otras competiciones deportivas de distinta modalidad, las escuderías y pilotos que conforman y han conformado las parrillas a lo largo de la historia…</p></li>
<li><p>En segundo lugar, procederemos a explicar la evolución de la Fórmula 1 a lo largo de su historia a través de gráficos donde compararemos victorias por pilotos y explicaremos la relevancia que estos han tenido para la competición a lo largo de los años, así como los pit-stops más rápidos hasta la actualidad.</p></li>
<li><p>En tercer lugar, hemos querido dedicar la última parte a explicar la temporada 2021 y la fuerte competición entre los dos pilotos más destacados.</p></li>
</ul></section><section id="datos-del-trabajo" class="level1"><h1>Datos del trabajo</h1>
<p>El dataset que hemos utilizado para realizar este trabajo está hecho a partir de <a href="https://www.kaggle.com">kaggle</a> y más concretamente <a href="https://www.kaggle.com/datasets/rohanrao/formula-1-world-championship-1950-2020?resource=downloadhttps://www.kaggle.com/datasets/rohanrao/formula-1-world-championship-1950-2020?resource=download">aquí</a>, junto a la base de datos <a href="https://es.statista.com">Statista</a> para obtener los datos sobre las audiencias y el Prize Pool de las competiciones deportivas</p>
<section id="código-r-del-trabajo" class="level2"><h2 class="anchored" data-anchor-id="código-r-del-trabajo">Código R del trabajo</h2>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">#A continuación vamos a poner todas las librerías que hemos necesitado</span></span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(stats)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(treemap)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">library</span>(magick)</span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co">#Mediante este código cargamos todos los dataset</span></span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a>tiempos <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/lap_times.csv"</span>)</span>
<span id="cb1-18"><a href="#cb1-18"></a>pilotos <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/drivers.csv"</span>)</span>
<span id="cb1-19"><a href="#cb1-19"></a>resultados <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/results.csv"</span>)</span>
<span id="cb1-20"><a href="#cb1-20"></a>carreras <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/races.csv"</span>)</span>
<span id="cb1-21"><a href="#cb1-21"></a>escuderias <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/constructors.csv"</span>)</span>
<span id="cb1-22"><a href="#cb1-22"></a>escuderias2 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/constructor_standings.csv"</span>)</span>
<span id="cb1-23"><a href="#cb1-23"></a>resultado_escuderias <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/constructor_results.csv"</span>)</span>
<span id="cb1-24"><a href="#cb1-24"></a>circuitos <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/circuits.csv"</span>)</span>
<span id="cb1-25"><a href="#cb1-25"></a>pit_stops <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datos/pit_stops.csv"</span>)</span>
<span id="cb1-26"><a href="#cb1-26"></a>Prizepool_competiciones <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"datos/valor_eventos.xlsx"</span>)</span>
<span id="cb1-27"><a href="#cb1-27"></a>Prizepool_competiciones <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(Prizepool_competiciones)</span>
<span id="cb1-28"><a href="#cb1-28"></a>Valor_marcas <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"datos/valor_marcas.xlsx"</span>)</span>
<span id="cb1-29"><a href="#cb1-29"></a>audiencias <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"datos/audiencias.xlsx"</span>)</span>
<span id="cb1-30"><a href="#cb1-30"></a>pitstops <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file=</span> <span class="st">"./datos/pit_stops.csv"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="contextualización-del-campeonato" class="level1"><h1>Contextualización del campeonato</h1>
<p>El Campeonato Mundial de la Fórmula 1, organizado por la FIA, es uno de los deportes con mayor auge en los últimos 2 años, reuniendo a miles de aficionados cada fin de semana, y siendo el número 1 respecto a los deportes de motor, imponiéndose a otras modalidades como el Rally o el Campeonato Mundial de Moto GP.</p>
<p>Tras una extensa temporada, entre los años 2004 y 2010 con una clara tendencia alcista en cuanto a espectadores, observamos una reducción año tras año de la cantidad total de espectadores debido al dominio de Mercedes y a la privatización de los derechos televisivos de la competición, lo que causó que la gran parte de la población no pudiese acceder o no estuviera dispuesta a pagar el precio que se estableció cada año para ver la competición cada fin de semana. Pero en los últimos años ha adquirido una mayor relevancia dicho campeonato, creciendo el número de espectadores, especialmente en España gracias al fenómeno denominado como “El Plan”, relacionado con el piloto Fernando Alonso.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>g <span class="ot">&lt;-</span> crosstalk<span class="sc">::</span>SharedData<span class="sc">$</span><span class="fu">new</span>(audiencias)</span>
<span id="cb2-2"><a href="#cb2-2"></a>grafico_audiencias <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(g, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>numero_espectadores, <span class="at">frame =</span> year)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>        <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb2-4"><a href="#cb2-4"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución del número de espectadores por año"</span>,</span>
<span id="cb2-5"><a href="#cb2-5"></a>             <span class="at">subtitle =</span> <span class="st">"Desde el 2004 hasta el 2020"</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>             <span class="at">x =</span> <span class="st">"Años"</span>,</span>
<span id="cb2-7"><a href="#cb2-7"></a>             <span class="at">y =</span> <span class="st">"Número total de espectadores"</span>) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>        <span class="fu">scale_x_log10</span>() <span class="sc">+</span><span class="fu">scale_y_continuous</span>(<span class="at">labels=</span><span class="cf">function</span>(n){<span class="fu">format</span>(n, <span class="at">scientific =</span> <span class="cn">FALSE</span>)})</span>
<span id="cb2-9"><a href="#cb2-9"></a>grafico_audiencias <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(grafico_audiencias) <span class="sc">%&gt;%</span> <span class="fu">highlight</span>(<span class="st">"plotly_hover"</span>)</span>
<span id="cb2-10"><a href="#cb2-10"></a></span>
<span id="cb2-11"><a href="#cb2-11"></a>grafico_audiencias</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="htmlwidget-a5dc3d0e64392abbd788" style="width:95%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a5dc3d0e64392abbd788">{"x":{"data":[{"x":[3.30189771719521],"y":[3000000],"text":"year: 2004<br />numero_espectadores: 3000000<br />year: 2004","key":["1"],"frame":"2004","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":66.4840182648402},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Evolución del número de espectadores por año","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3.30172503458264,3.30552405205919],"tickmode":"array","ticktext":["2005","2010","2015","2020"],"tickvals":[3.3021143769562,3.30319605742049,3.30427505047713,3.30535136944662],"categoryorder":"array","categoryarray":["2005","2010","2015","2020"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Años","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-18150,4715150],"tickmode":"array","ticktext":["      0","1000000","2000000","3000000","4000000"],"tickvals":[0,1000000,2000000,3000000,4000000],"categoryorder":"array","categoryarray":["      0","1000000","2000000","3000000","4000000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Número total de espectadores","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative","dragmode":"zoom","sliders":[{"currentvalue":{"prefix":"~year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["2004"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2004","value":"2004"},{"method":"animate","args":[["2005"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2005","value":"2005"},{"method":"animate","args":[["2006"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2006","value":"2006"},{"method":"animate","args":[["2007"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2007","value":"2007"},{"method":"animate","args":[["2008"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2008","value":"2008"},{"method":"animate","args":[["2009"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2009","value":"2009"},{"method":"animate","args":[["2010"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2010","value":"2010"},{"method":"animate","args":[["2011"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2011","value":"2011"},{"method":"animate","args":[["2012"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2012","value":"2012"},{"method":"animate","args":[["2013"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2013","value":"2013"},{"method":"animate","args":[["2014"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2014","value":"2014"},{"method":"animate","args":[["2015"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2015","value":"2015"},{"method":"animate","args":[["2016"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2016","value":"2016"},{"method":"animate","args":[["2017"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2017","value":"2017"},{"method":"animate","args":[["2018"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2018","value":"2018"},{"method":"animate","args":[["2019"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2019","value":"2019"},{"method":"animate","args":[["2020"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2020","value":"2020"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false}}]}]}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"b5f6c61cf44":{"x":{},"y":{},"frame":{},"type":"scatter"}},"cur_data":"b5f6c61cf44","visdat":{"b5f6c61cf44":["function (y) ","x"]},"highlight":{"on":"plotly_hover","off":"plotly_doubleclick","persistent":false,"dynamic":false,"color":null,"selectize":false,"defaultValues":null,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0,"ctGroups":["SharedData322f7126"]},"frames":[{"name":"2004","data":[{"x":[3.30189771719521],"y":[3000000],"text":"year: 2004<br />numero_espectadores: 3000000<br />year: 2004","key":["1"],"frame":"2004","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2005","data":[{"x":[3.3021143769562],"y":[3700000],"text":"year: 2005<br />numero_espectadores: 3700000<br />year: 2005","key":["2"],"frame":"2005","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2006","data":[{"x":[3.3023309286844],"y":[4100000],"text":"year: 2006<br />numero_espectadores: 4100000<br />year: 2006","key":["3"],"frame":"2006","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2007","data":[{"x":[3.30254737248749],"y":[4500000],"text":"year: 2007<br />numero_espectadores: 4500000<br />year: 2007","key":["4"],"frame":"2007","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2008","data":[{"x":[3.30276370847298],"y":[4200000],"text":"year: 2008<br />numero_espectadores: 4200000<br />year: 2008","key":["5"],"frame":"2008","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2009","data":[{"x":[3.30297993674825],"y":[2700000],"text":"year: 2009<br />numero_espectadores: 2700000<br />year: 2009","key":["6"],"frame":"2009","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2010","data":[{"x":[3.30319605742049],"y":[4256000],"text":"year: 2010<br />numero_espectadores: 4256000<br />year: 2010","key":["7"],"frame":"2010","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2011","data":[{"x":[3.30341207059674],"y":[3400000],"text":"year: 2011<br />numero_espectadores: 3400000<br />year: 2011","key":["8"],"frame":"2011","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2012","data":[{"x":[3.30362797638389],"y":[4234000],"text":"year: 2012<br />numero_espectadores: 4234000<br />year: 2012","key":["9"],"frame":"2012","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2013","data":[{"x":[3.30384377488865],"y":[3700000],"text":"year: 2013<br />numero_espectadores: 3700000<br />year: 2013","key":["10"],"frame":"2013","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2014","data":[{"x":[3.3040594662176],"y":[3100000],"text":"year: 2014<br />numero_espectadores: 3100000<br />year: 2014","key":["11"],"frame":"2014","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2015","data":[{"x":[3.30427505047713],"y":[2000000],"text":"year: 2015<br />numero_espectadores: 2000000<br />year: 2015","key":["12"],"frame":"2015","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2016","data":[{"x":[3.30449052777349],"y":[197000],"text":"year: 2016<br />numero_espectadores:  197000<br />year: 2016","key":["13"],"frame":"2016","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2017","data":[{"x":[3.30470589821277],"y":[218000],"text":"year: 2017<br />numero_espectadores:  218000<br />year: 2017","key":["14"],"frame":"2017","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2018","data":[{"x":[3.30492116190089],"y":[238000],"text":"year: 2018<br />numero_espectadores:  238000<br />year: 2018","key":["15"],"frame":"2018","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2019","data":[{"x":[3.30513631894364],"y":[208000],"text":"year: 2019<br />numero_espectadores:  208000<br />year: 2019","key":["16"],"frame":"2019","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2020","data":[{"x":[3.30535136944662],"y":[234000],"text":"year: 2020<br />numero_espectadores:  234000<br />year: 2020","key":["17"],"frame":"2020","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","set":"SharedData322f7126","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isSimpleKey":true,"_isNestedKey":false,"visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Hecho que podemos comprobar por otra vía, al comparar el “Prize pool” entre las diferentes competiciones deportivas del mundo superando a competiciones como el campeonato mundial de la FIFA, el campeonato mundial de Póker o incluso la UEFA Europa League. Pero siendo claramente inferior la F1, junto al resto de competiciones deportivas existentes en la actualidad, a la UEFA Champions League y es que el fútbol es el deporte líder en audiencia a nivel mundial sin ningún claro competidor, llegando el “prize pool” de dicha competición a la cifra de 1300 millones de dólares, ante los casi 800 millones de dólares de la F1.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>Prizepool_competiciones <span class="ot">&lt;-</span> Prizepool_competiciones <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Competiciones =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(Competiciones))</span>
<span id="cb3-2"><a href="#cb3-2"></a>Prizepool_competiciones <span class="ot">&lt;-</span> Prizepool_competiciones <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Competiciones =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(Competiciones))</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a>grafico_eventos <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Prizepool_competiciones) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>        <span class="fu">aes</span>(<span class="at">x =</span> Competiciones, <span class="at">weight =</span> Dinero) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>        <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>        <span class="fu">labs</span>(</span>
<span id="cb3-8"><a href="#cb3-8"></a>                <span class="at">x =</span> <span class="st">"Competiciones"</span>,</span>
<span id="cb3-9"><a href="#cb3-9"></a>                <span class="at">y =</span> <span class="st">"Dinero (expresado en millones de dólares)"</span>,</span>
<span id="cb3-10"><a href="#cb3-10"></a>                <span class="at">title =</span> <span class="st">"Prize pool "</span>,</span>
<span id="cb3-11"><a href="#cb3-11"></a>                <span class="at">subtitle =</span> <span class="st">"De las principales competiciones deportivas"</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>        ) <span class="sc">+</span> </span>
<span id="cb3-13"><a href="#cb3-13"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>        <span class="fu">theme_classic</span>()</span>
<span id="cb3-15"><a href="#cb3-15"></a></span>
<span id="cb3-16"><a href="#cb3-16"></a>grafico_eventos</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>Al tratarse de un deporte de automovilismo, el elemento principal es el coche y por ello hemos querido destacar las principales partes del vehículo que dan vida al campeonato. Incluyendo aquí al motor, el corazón del coche y el elemento principal por el cual ha evolucionado tanto la Fórmula 1; el alerón trasero, que junto al resto de elementos de la carrocería, son los que le proporcionan la carga aerodinámica que permiten alcanzar velocidades superiores a 300 kilómetros por hora; el halo, elemento incluido en los últimos años y que ha salvado numerosas vidas de los pilotos en los accidentes al proteger sus cabezas por todas las direcciones; el morro, que junto a los difusores y alerones son los que generan el llamado “efecto suelo”; destacando los neumáticos (slicks) cuyo cambio en la carrera genera el denominado “pit-stop”; y por último el volante, que junto a los pedales es la fuente de la unión entre el piloto y la máquina.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>faps <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/faps.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a>halo <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/halo.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>morro <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/morro.png"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>motor <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/motor.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a>volante <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/volante.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a>partes_del_coche <span class="ot">&lt;-</span> <span class="fu">c</span>(faps,halo,morro,motor,volante)</span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="fu">image_animate</span>(<span class="fu">image_scale</span>(partes_del_coche), <span class="at">fps =</span> <span class="fl">0.5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-5-1.gif" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>En la F1 compiten actualmente 10 equipos con 2 pilotos por equipo, lo que conforma una parrilla de 20 pilotos en cada carrera en la que disputan tanto el título de pilotos como el de constructores (equipos). Los títulos se disputan en un calendario de 22 carreras (Temporada 2021) alrededor del mundo, no obstante el número de pilotos, equipos y carreras ha variado a lo largo de la historia de este campeonato.</p>
<p>Actualmente los equipos inscritos y pilotos (por orden de campeonato de constructores de 2022) són:</p>
<p>1º- <strong>Red Bull Racing</strong> con Max Verstappen y Sérgio Pérez</p>
<p>2º- <strong>Ferrari</strong> con Charles Leclerc y Carlos Sainz</p>
<p>3º- <strong>Mercedes-AMG</strong> con George Russell y Lewis Hamilton</p>
<p>4º- <strong>Alpine Renault</strong> con Fernando Alonso y Esteban Ocon</p>
<p>5º- <strong>Mclaren Mercedes</strong> con Lando Norris y Daniel Ricciardo</p>
<p>6º- <strong>Alfa Romeo Ferrari</strong> con Valtteri Bottas y Guanyu Zhou</p>
<p>7º- <strong>Aston Martin Mercedes</strong> con Sebastian Vettle y Lance Stroll</p>
<p>8º- <strong>Haas Ferrari</strong> con Kevin Magnussen y Mick Schumacher</p>
<p>9º- <strong>Alpha Tauri RBPT</strong> con Pierre Gasly y Yuki Tsunoda</p>
<p>10º- <strong>Williams Mercedes</strong> con Alex Albon y Nicholas Latifi</p>
<p>Dentro de los anteriores equipos inscritos y de acuerdo con el gráfico, destaca una enorme divergencia en cuanto al valor económico de los distintos equipos competidores que en ocasiones los pilotos han demostrado con su habilidad la baja correlación entre el valor económico del equipo y el número de victorias. Aún así, la divergencia entre marcas como Ferrari o Alfa Romeo, que es de más de 1200 millones dólares, es fundamental en cuanto a la inversión en tecnología para mejorar campeonato tras campeonato. Ya que tenemos que recordar que la tecnología y la I+D es fundamental en un deporte de automovilismo como éste, existiendo una dura reglamentación para solucionar las divergencias.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>grafico_valor_escuderías <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Valor_marcas, <span class="fu">aes</span>(<span class="at">area =</span> Dinero, <span class="at">fill =</span> Marcas,</span>
<span id="cb5-2"><a href="#cb5-2"></a>                                                     <span class="at">label =</span> Marcas)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>        <span class="fu">geom_treemap</span>() <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>        <span class="fu">geom_treemap_text</span>(<span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb5-5"><a href="#cb5-5"></a>                          <span class="at">place =</span> <span class="st">"centre"</span>,</span>
<span id="cb5-6"><a href="#cb5-6"></a>                          <span class="at">size =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>        <span class="fu">scale_fill_brewer</span>() <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Valor económico de las marcas"</span>,</span>
<span id="cb5-9"><a href="#cb5-9"></a>             <span class="at">subtitle =</span> <span class="st">"Expresado en millones de dólares"</span>,</span>
<span id="cb5-10"><a href="#cb5-10"></a>             </span>
<span id="cb5-11"><a href="#cb5-11"></a>             )</span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a>grafico_valor_escuderías</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>Por otro lado, las citas del último campeonato fueron:</p>
<p><strong>GP Bahrein</strong></p>
<p><strong>GP Arabia Saudi</strong></p>
<p><strong>GP Australia</strong></p>
<p><strong>GP Emilia Romagna</strong></p>
<p><strong>GP Miami</strong></p>
<p><strong>GP España</strong></p>
<p><strong>GP Mónaco</strong></p>
<p><strong>GP Azerbaijan</strong></p>
<p><strong>GP Canada</strong></p>
<p><strong>GP Gran Bretaña</strong></p>
<p><strong>Gp Austria</strong></p>
<p><strong>GP Francia</strong></p>
<p><strong>GP Hungria</strong></p>
<p><strong>GP Belgica</strong></p>
<p><strong>GP Holanda</strong></p>
<p><strong>GP Italia</strong></p>
<p><strong>GP Singapur</strong></p>
<p><strong>GP Japon</strong></p>
<p><strong>GP EE.UU.</strong></p>
<p><strong>GP Mexico</strong></p>
<p><strong>GP Brasil</strong></p>
<p><strong>GP Abu Dhabi</strong></p>
<p>Es interesante comentar también la procedencia de los diferentes equipos, que se adjudica según el establecimiento de la fábrica, como podemos observar la gran mayoría están instaladas en Gran Bretaña en el llamado “Motorsports Valley”, sería el caso de los equipos actuales como Aston Martin (Silverstone), Mercedes (Brackley), Red Bull ( Milton Keynes), Mclaren (Woking) ,Williams (Grove) incluso Alpine (Enstone). Y generando, junto a Estados Unidos e Italia en menor medida, una enorme concentración tecnológica en cuanto a este sector. Dentro del ámbito económico podríamos afirmar que nos encontramos ante un Clúster tecnológico.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>df_escuderias_agrupadas <span class="ot">&lt;-</span> escuderias <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(nationality) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">NN=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>        <span class="fu">slice_max</span>(NN, <span class="at">n=</span><span class="dv">4</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a>grafico_escuderias_por_paises <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_escuderias_agrupadas) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>        <span class="fu">aes</span>(<span class="at">x =</span> NN, <span class="at">color =</span> nationality,<span class="at">weight =</span> NN) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>        <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>        <span class="fu">scale_color_hue</span>(<span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Escuderías agrupadas por nacionalidades en la historia"</span>,</span>
<span id="cb6-10"><a href="#cb6-10"></a>             <span class="at">subtitle =</span> <span class="st">"Escogidas las 4 con mayor cantidad"</span>,</span>
<span id="cb6-11"><a href="#cb6-11"></a>             <span class="at">x =</span> <span class="st">"Número total de nacionalidades"</span>,</span>
<span id="cb6-12"><a href="#cb6-12"></a>             <span class="at">y =</span> <span class="st">"Número total de nacionalidades"</span>) <span class="sc">+</span></span>
<span id="cb6-13"><a href="#cb6-13"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">coord_polar</span>()</span>
<span id="cb6-14"><a href="#cb6-14"></a></span>
<span id="cb6-15"><a href="#cb6-15"></a>grafico_escuderias_por_paises</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="historia-y-curiosidades-en-la-fórmula-1" class="level1"><h1>Historia y curiosidades en la Fórmula 1</h1>
<section id="pilotos-más-exitosos-en-la-historia" class="level2"><h2 class="anchored" data-anchor-id="pilotos-más-exitosos-en-la-historia">Pilotos más exitosos en la historia</h2>
<p>Desde 1950 hasta 2022 han competido 856 pilotos en 214 equipos distintos en la categoría. De estos pilotos tan solo 113 se han convertido en ganadores de un Gran Premio.</p>
<p>Nos planteamos en este apartado cuáles han sido “los mejores” de estos 113 afortunados de modo que nos podamos hacer una idea de los dominadores de la categoría.</p>
<p>Antes de hablar de los resultados cabe destacar la gran diferencia entre el calendario de carreras actual del de hace años atrás y cómo esto puede afectar en los resultados pues el calendario actual está formado por 22 carreras, calendario que ha seguido una tendencia ascendente en sus citas pues en 2010 consistía de 19 carreras, 17 en el año 2000, 14 en 1980, etc. Mientras que para esta próxima temporada se pretendían hacer 25. Esto cabe destacar debido a que aquellos pilotos con el coche ganador de las respectivas temporadas pudieron acumular un mayor o menor número de victorias según el vigente calendario.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>mayores_victorias <span class="ot">&lt;-</span> <span class="fu">full_join</span>(pilotos, resultados, <span class="fu">c</span>(<span class="st">"driverId"</span> <span class="ot">=</span> <span class="st">"driverId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2"></a>        <span class="fu">full_join</span>(., carreras, <span class="fu">c</span>(<span class="st">"raceId"</span> <span class="ot">=</span> <span class="st">"raceId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3"></a>        <span class="fu">select</span>(driverId, driverRef, position, year, date) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4"></a>        <span class="fu">filter</span>(position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5"></a>        <span class="fu">group_by</span>(driverRef) <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6"></a>        <span class="fu">mutate</span>(<span class="at">victoria_num =</span> <span class="fu">sum</span>( <span class="at">NN =</span> <span class="fu">n</span>())) <span class="sc">%&gt;%</span> </span>
<span id="cb7-7"><a href="#cb7-7"></a>        <span class="fu">filter</span>(victoria_num <span class="sc">&gt;=</span> <span class="dv">25</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-8"><a href="#cb7-8"></a>        <span class="fu">arrange</span>(victoria_num) <span class="sc">%&gt;%</span> </span>
<span id="cb7-9"><a href="#cb7-9"></a>        <span class="fu">mutate</span>( <span class="at">suma_vic =</span> <span class="fu">cumsum</span>(position))<span class="sc">%&gt;%</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>        <span class="fu">arrange</span>(<span class="fu">desc</span>(victoria_num))<span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>        <span class="fu">distinct</span>(victoria_num)</span>
<span id="cb7-12"><a href="#cb7-12"></a>mayores_victorias</span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt; # A tibble: 11 × 2</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt; # Groups:   driverRef [11]</span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co">#&gt;    driverRef          victoria_num</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co">#&gt;    &lt;chr&gt;                     &lt;int&gt;</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">#&gt;  1 hamilton                    103</span></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co">#&gt;  2 michael_schumacher           91</span></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="co">#&gt;  3 vettel                       53</span></span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="co">#&gt;  4 prost                        51</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="co">#&gt;  5 senna                        41</span></span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="co">#&gt;  6 max_verstappen               35</span></span>
<span id="cb7-23"><a href="#cb7-23"></a><span class="co">#&gt;  7 alonso                       32</span></span>
<span id="cb7-24"><a href="#cb7-24"></a><span class="co">#&gt;  8 mansell                      31</span></span>
<span id="cb7-25"><a href="#cb7-25"></a><span class="co">#&gt;  9 stewart                      27</span></span>
<span id="cb7-26"><a href="#cb7-26"></a><span class="co">#&gt; 10 lauda                        25</span></span>
<span id="cb7-27"><a href="#cb7-27"></a><span class="co">#&gt; 11 clark                        25</span></span>
<span id="cb7-28"><a href="#cb7-28"></a></span>
<span id="cb7-29"><a href="#cb7-29"></a>G_victorias <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mayores_victorias) <span class="sc">+</span></span>
<span id="cb7-30"><a href="#cb7-30"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(driverRef, <span class="fu">desc</span>(victoria_num)), <span class="at">y =</span> victoria_num) <span class="sc">+</span></span>
<span id="cb7-31"><a href="#cb7-31"></a>        <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#622072"</span>) <span class="sc">+</span></span>
<span id="cb7-32"><a href="#cb7-32"></a>        <span class="fu">labs</span>(</span>
<span id="cb7-33"><a href="#cb7-33"></a>                <span class="at">x =</span> <span class="st">"Pilotos"</span>,</span>
<span id="cb7-34"><a href="#cb7-34"></a>                <span class="at">y =</span> <span class="st">"Nº Victorias"</span>,</span>
<span id="cb7-35"><a href="#cb7-35"></a>                <span class="at">title =</span> <span class="st">"Pilotos con más victorias"</span></span>
<span id="cb7-36"><a href="#cb7-36"></a>        ) <span class="sc">+</span></span>
<span id="cb7-37"><a href="#cb7-37"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb7-38"><a href="#cb7-38"></a>        ggthemes<span class="sc">::</span><span class="fu">theme_par</span>()<span class="sc">+</span></span>
<span id="cb7-39"><a href="#cb7-39"></a>        <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>victoria_num), <span class="at">vjust=</span><span class="fl">0.25</span>,<span class="at">hjust=</span><span class="fl">0.99</span>, <span class="at">color=</span><span class="st">"white"</span>,    </span>
<span id="cb7-40"><a href="#cb7-40"></a>                  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.1</span>),  <span class="at">size=</span><span class="fl">5.0</span></span>
<span id="cb7-41"><a href="#cb7-41"></a>        )</span>
<span id="cb7-42"><a href="#cb7-42"></a>G_victorias</span>
<span id="cb7-43"><a href="#cb7-43"></a></span>
<span id="cb7-44"><a href="#cb7-44"></a></span>
<span id="cb7-45"><a href="#cb7-45"></a><span class="co">#Pilotos con al menos 1 victoria</span></span>
<span id="cb7-46"><a href="#cb7-46"></a></span>
<span id="cb7-47"><a href="#cb7-47"></a>unavictoria <span class="ot">&lt;-</span> <span class="fu">full_join</span>(pilotos, resultados, <span class="fu">c</span>(<span class="st">"driverId"</span> <span class="ot">=</span> <span class="st">"driverId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-48"><a href="#cb7-48"></a>        <span class="fu">full_join</span>(., carreras, <span class="fu">c</span>(<span class="st">"raceId"</span> <span class="ot">=</span> <span class="st">"raceId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-49"><a href="#cb7-49"></a>        <span class="fu">select</span>(driverId, driverRef, position, year, date) <span class="sc">%&gt;%</span> </span>
<span id="cb7-50"><a href="#cb7-50"></a>        <span class="fu">filter</span>(position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-51"><a href="#cb7-51"></a>        <span class="fu">distinct</span>(driverId)</span>
<span id="cb7-52"><a href="#cb7-52"></a>unavictoria</span>
<span id="cb7-53"><a href="#cb7-53"></a><span class="co">#&gt;     driverId</span></span>
<span id="cb7-54"><a href="#cb7-54"></a><span class="co">#&gt; 1          1</span></span>
<span id="cb7-55"><a href="#cb7-55"></a><span class="co">#&gt; 2          3</span></span>
<span id="cb7-56"><a href="#cb7-56"></a><span class="co">#&gt; 3          4</span></span>
<span id="cb7-57"><a href="#cb7-57"></a><span class="co">#&gt; 4          5</span></span>
<span id="cb7-58"><a href="#cb7-58"></a><span class="co">#&gt; 5          8</span></span>
<span id="cb7-59"><a href="#cb7-59"></a><span class="co">#&gt; 6          9</span></span>
<span id="cb7-60"><a href="#cb7-60"></a><span class="co">#&gt; 7         13</span></span>
<span id="cb7-61"><a href="#cb7-61"></a><span class="co">#&gt; 8         14</span></span>
<span id="cb7-62"><a href="#cb7-62"></a><span class="co">#&gt; 9         15</span></span>
<span id="cb7-63"><a href="#cb7-63"></a><span class="co">#&gt; 10        17</span></span>
<span id="cb7-64"><a href="#cb7-64"></a><span class="co">#&gt; 11        18</span></span>
<span id="cb7-65"><a href="#cb7-65"></a><span class="co">#&gt; 12        20</span></span>
<span id="cb7-66"><a href="#cb7-66"></a><span class="co">#&gt; 13        21</span></span>
<span id="cb7-67"><a href="#cb7-67"></a><span class="co">#&gt; 14        22</span></span>
<span id="cb7-68"><a href="#cb7-68"></a><span class="co">#&gt; 15        23</span></span>
<span id="cb7-69"><a href="#cb7-69"></a><span class="co">#&gt; 16        30</span></span>
<span id="cb7-70"><a href="#cb7-70"></a><span class="co">#&gt; 17        31</span></span>
<span id="cb7-71"><a href="#cb7-71"></a><span class="co">#&gt; 18        35</span></span>
<span id="cb7-72"><a href="#cb7-72"></a><span class="co">#&gt; 19        44</span></span>
<span id="cb7-73"><a href="#cb7-73"></a><span class="co">#&gt; 20        49</span></span>
<span id="cb7-74"><a href="#cb7-74"></a><span class="co">#&gt; 21        55</span></span>
<span id="cb7-75"><a href="#cb7-75"></a><span class="co">#&gt; 22        56</span></span>
<span id="cb7-76"><a href="#cb7-76"></a><span class="co">#&gt; 23        57</span></span>
<span id="cb7-77"><a href="#cb7-77"></a><span class="co">#&gt; 24        65</span></span>
<span id="cb7-78"><a href="#cb7-78"></a><span class="co">#&gt; 25        71</span></span>
<span id="cb7-79"><a href="#cb7-79"></a><span class="co">#&gt; 26        77</span></span>
<span id="cb7-80"><a href="#cb7-80"></a><span class="co">#&gt; 27        95</span></span>
<span id="cb7-81"><a href="#cb7-81"></a><span class="co">#&gt; 28       102</span></span>
<span id="cb7-82"><a href="#cb7-82"></a><span class="co">#&gt; 29       105</span></span>
<span id="cb7-83"><a href="#cb7-83"></a><span class="co">#&gt; 30       117</span></span>
<span id="cb7-84"><a href="#cb7-84"></a><span class="co">#&gt; 31       119</span></span>
<span id="cb7-85"><a href="#cb7-85"></a><span class="co">#&gt; 32       123</span></span>
<span id="cb7-86"><a href="#cb7-86"></a><span class="co">#&gt; 33       137</span></span>
<span id="cb7-87"><a href="#cb7-87"></a><span class="co">#&gt; 34       145</span></span>
<span id="cb7-88"><a href="#cb7-88"></a><span class="co">#&gt; 35       163</span></span>
<span id="cb7-89"><a href="#cb7-89"></a><span class="co">#&gt; 36       172</span></span>
<span id="cb7-90"><a href="#cb7-90"></a><span class="co">#&gt; 37       173</span></span>
<span id="cb7-91"><a href="#cb7-91"></a><span class="co">#&gt; 38       175</span></span>
<span id="cb7-92"><a href="#cb7-92"></a><span class="co">#&gt; 39       177</span></span>
<span id="cb7-93"><a href="#cb7-93"></a><span class="co">#&gt; 40       178</span></span>
<span id="cb7-94"><a href="#cb7-94"></a><span class="co">#&gt; 41       182</span></span>
<span id="cb7-95"><a href="#cb7-95"></a><span class="co">#&gt; 42       187</span></span>
<span id="cb7-96"><a href="#cb7-96"></a><span class="co">#&gt; 43       199</span></span>
<span id="cb7-97"><a href="#cb7-97"></a><span class="co">#&gt; 44       200</span></span>
<span id="cb7-98"><a href="#cb7-98"></a><span class="co">#&gt; 45       202</span></span>
<span id="cb7-99"><a href="#cb7-99"></a><span class="co">#&gt; 46       203</span></span>
<span id="cb7-100"><a href="#cb7-100"></a><span class="co">#&gt; 47       207</span></span>
<span id="cb7-101"><a href="#cb7-101"></a><span class="co">#&gt; 48       219</span></span>
<span id="cb7-102"><a href="#cb7-102"></a><span class="co">#&gt; 49       221</span></span>
<span id="cb7-103"><a href="#cb7-103"></a><span class="co">#&gt; 50       222</span></span>
<span id="cb7-104"><a href="#cb7-104"></a><span class="co">#&gt; 51       223</span></span>
<span id="cb7-105"><a href="#cb7-105"></a><span class="co">#&gt; 52       224</span></span>
<span id="cb7-106"><a href="#cb7-106"></a><span class="co">#&gt; 53       230</span></span>
<span id="cb7-107"><a href="#cb7-107"></a><span class="co">#&gt; 54       231</span></span>
<span id="cb7-108"><a href="#cb7-108"></a><span class="co">#&gt; 55       235</span></span>
<span id="cb7-109"><a href="#cb7-109"></a><span class="co">#&gt; 56       238</span></span>
<span id="cb7-110"><a href="#cb7-110"></a><span class="co">#&gt; 57       250</span></span>
<span id="cb7-111"><a href="#cb7-111"></a><span class="co">#&gt; 58       255</span></span>
<span id="cb7-112"><a href="#cb7-112"></a><span class="co">#&gt; 59       289</span></span>
<span id="cb7-113"><a href="#cb7-113"></a><span class="co">#&gt; 60       304</span></span>
<span id="cb7-114"><a href="#cb7-114"></a><span class="co">#&gt; 61       306</span></span>
<span id="cb7-115"><a href="#cb7-115"></a><span class="co">#&gt; 62       309</span></span>
<span id="cb7-116"><a href="#cb7-116"></a><span class="co">#&gt; 63       320</span></span>
<span id="cb7-117"><a href="#cb7-117"></a><span class="co">#&gt; 64       327</span></span>
<span id="cb7-118"><a href="#cb7-118"></a><span class="co">#&gt; 65       328</span></span>
<span id="cb7-119"><a href="#cb7-119"></a><span class="co">#&gt; 66       341</span></span>
<span id="cb7-120"><a href="#cb7-120"></a><span class="co">#&gt; 67       345</span></span>
<span id="cb7-121"><a href="#cb7-121"></a><span class="co">#&gt; 68       346</span></span>
<span id="cb7-122"><a href="#cb7-122"></a><span class="co">#&gt; 69       347</span></span>
<span id="cb7-123"><a href="#cb7-123"></a><span class="co">#&gt; 70       356</span></span>
<span id="cb7-124"><a href="#cb7-124"></a><span class="co">#&gt; 71       358</span></span>
<span id="cb7-125"><a href="#cb7-125"></a><span class="co">#&gt; 72       360</span></span>
<span id="cb7-126"><a href="#cb7-126"></a><span class="co">#&gt; 73       364</span></span>
<span id="cb7-127"><a href="#cb7-127"></a><span class="co">#&gt; 74       373</span></span>
<span id="cb7-128"><a href="#cb7-128"></a><span class="co">#&gt; 75       375</span></span>
<span id="cb7-129"><a href="#cb7-129"></a><span class="co">#&gt; 76       385</span></span>
<span id="cb7-130"><a href="#cb7-130"></a><span class="co">#&gt; 77       386</span></span>
<span id="cb7-131"><a href="#cb7-131"></a><span class="co">#&gt; 78       394</span></span>
<span id="cb7-132"><a href="#cb7-132"></a><span class="co">#&gt; 79       403</span></span>
<span id="cb7-133"><a href="#cb7-133"></a><span class="co">#&gt; 80       404</span></span>
<span id="cb7-134"><a href="#cb7-134"></a><span class="co">#&gt; 81       427</span></span>
<span id="cb7-135"><a href="#cb7-135"></a><span class="co">#&gt; 82       449</span></span>
<span id="cb7-136"><a href="#cb7-136"></a><span class="co">#&gt; 83       842</span></span>
<span id="cb7-137"><a href="#cb7-137"></a><span class="co">#&gt; 84       475</span></span>
<span id="cb7-138"><a href="#cb7-138"></a><span class="co">#&gt; 85       476</span></span>
<span id="cb7-139"><a href="#cb7-139"></a><span class="co">#&gt; 86       479</span></span>
<span id="cb7-140"><a href="#cb7-140"></a><span class="co">#&gt; 87       498</span></span>
<span id="cb7-141"><a href="#cb7-141"></a><span class="co">#&gt; 88       509</span></span>
<span id="cb7-142"><a href="#cb7-142"></a><span class="co">#&gt; 89       525</span></span>
<span id="cb7-143"><a href="#cb7-143"></a><span class="co">#&gt; 90       526</span></span>
<span id="cb7-144"><a href="#cb7-144"></a><span class="co">#&gt; 91       559</span></span>
<span id="cb7-145"><a href="#cb7-145"></a><span class="co">#&gt; 92       577</span></span>
<span id="cb7-146"><a href="#cb7-146"></a><span class="co">#&gt; 93       578</span></span>
<span id="cb7-147"><a href="#cb7-147"></a><span class="co">#&gt; 94       579</span></span>
<span id="cb7-148"><a href="#cb7-148"></a><span class="co">#&gt; 95       581</span></span>
<span id="cb7-149"><a href="#cb7-149"></a><span class="co">#&gt; 96       593</span></span>
<span id="cb7-150"><a href="#cb7-150"></a><span class="co">#&gt; 97       611</span></span>
<span id="cb7-151"><a href="#cb7-151"></a><span class="co">#&gt; 98       628</span></span>
<span id="cb7-152"><a href="#cb7-152"></a><span class="co">#&gt; 99       641</span></span>
<span id="cb7-153"><a href="#cb7-153"></a><span class="co">#&gt; 100      642</span></span>
<span id="cb7-154"><a href="#cb7-154"></a><span class="co">#&gt; 101      647</span></span>
<span id="cb7-155"><a href="#cb7-155"></a><span class="co">#&gt; 102      657</span></span>
<span id="cb7-156"><a href="#cb7-156"></a><span class="co">#&gt; 103      766</span></span>
<span id="cb7-157"><a href="#cb7-157"></a><span class="co">#&gt; 104      786</span></span>
<span id="cb7-158"><a href="#cb7-158"></a><span class="co">#&gt; 105      813</span></span>
<span id="cb7-159"><a href="#cb7-159"></a><span class="co">#&gt; 106      815</span></span>
<span id="cb7-160"><a href="#cb7-160"></a><span class="co">#&gt; 107      817</span></span>
<span id="cb7-161"><a href="#cb7-161"></a><span class="co">#&gt; 108      822</span></span>
<span id="cb7-162"><a href="#cb7-162"></a><span class="co">#&gt; 109      830</span></span>
<span id="cb7-163"><a href="#cb7-163"></a><span class="co">#&gt; 110      832</span></span>
<span id="cb7-164"><a href="#cb7-164"></a><span class="co">#&gt; 111      839</span></span>
<span id="cb7-165"><a href="#cb7-165"></a><span class="co">#&gt; 112      844</span></span>
<span id="cb7-166"><a href="#cb7-166"></a><span class="co">#&gt; 113      847</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>En los resultados obtenidos no encontramos sorpresas pues en primera posición encontramos a Lewis Hamilton (7 títulos) con 103 victorias, gran beneficiario de la “era híbrida” cosechando entre 2014 y 2021 6 títulos mundiales (Mercedes-AMG) de los 7 posibles más su título de 2008 con Mclaren-Mercedes, racha que sólo fue cortada por su compañero de equipo Rosberg en 2016 y en el final de la era híbrida por Verstappen.</p>
<p>En segunda posición y tras ser desbancado de la primera en la temporada 2021 nos encontramos a Michael Schumacher con 91 victorias (7 títulos), leyenda de la Fórmula 1 y mayor racha de títulos seguidos ganados. Ganó dos mundiales seguidos en 1994 y 1995 con el equipo Benetton tras lo que se marchó a Ferrari donde al fin en el año 2000 se alzó con el tercero, racha que continuó hasta 2004 con una aplastante superioridad con 5 títulos consecutivos. No sería otro que Fernando Alonso en 2005 con el Renault R25 quien logró parar la racha del “Káiser”.</p>
<p>En tercera posición nos encontramos a Sebastian Vettel con 53 victorias y 4 títulos con Red-Bull Racing. Vettel, primer gran éxito del programa de jóvenes pilotos de redbull logró sus 4 títulos de forma consecutiva entre 2010 y 2013 con un coche dominador gracias a los diseños de Adrian Newey. En especial recordamos estos años aquí dado que fue en 2010 y 2013, especialmente esta última y las desesperantes vueltas detrás de Petrov, mundiales que se esfumaron para Fernando en la última carrera compitiendo con Sebastian.</p>
<p>En cuarta posición encontramos a Alain Prost con 53 victorias y 4 títulos cosechados, gran rival de Ayrton Senna la cual llevaron hasta decidir los títulos del 89 y 90 con choques entre ellos en la última carrera , se alzó con los títulos de 1985,1986 (Marlboro McLaren), 1989(Mclaren-Honda) y 1993 (Williams-Renault).</p>
<p>En quinto lugar con 41 victorias encontramos a la leyenda brasileña del deporte Ayrton Senna con 3 títulos, 1988,1990 y 1991(Mclaren-Honda), alabado por todos por su forma de conducir y que le llevaría a fallecer en carrera el 1 de mayo de 1994 en el GP de Imola con 34 años al salirse de pista e impactar con un muro a 300 km/h, en una época donde la seguridad de los monoplazas era cuestionable.</p>
<p>En sexto lugar con 35 victorias encontramos a Max Verstappen, vigente campeón con 2 títulos consecutivos junto al equipo Red-Bull. Logró frenar la arrolladora racha del equipo Mercedes-AMG tras una emocionante temporada de 2021 que trataremos más tarde donde el título se decidió en la última vuelta.</p>
<p>El séptimo y último que destacaremos (por motivos nada personales) encontramos a Fernando Alonso(“el Nano”) con 32 victorias y 2 títulos (que bien podrían ser 3 de no ser por el fatal final de 2013) cosechados en 2005 y 2006 con el equipo Renault con el que logró frenar la racha de Ferrari y Schumacher. Como curiosidad vemos que hay visibles paralelismos con la historia actual de Verstappen, al proclamarse ambos campeones por primera vez con 24 años frente a un dominador 7 veces campeón del mundo de 36 años y una racha de 2 títulos seguidos.</p>
</section><section id="mejores-pit-stops-en-la-historia-del-campeonato" class="level2"><h2 class="anchored" data-anchor-id="mejores-pit-stops-en-la-historia-del-campeonato">Mejores Pit-Stops en la historia del campeonato</h2>
<p>Los pit-stop consisten en las paradas que hacen en carrera los pilotos en “boxes” para cambiar ruedas o bien repostar(hasta 2009).</p>
<p>Para este Top-10 hemos extraído los datos del proceso completo de la parada, es decir, desde su entrada en el pit-lane hasta su salida y reincorporación a pista. Esto plantea unas diferencias entre circuitos y épocas debido a que no todos los pit-lane son igual de largos, ni su velocidad media es la misma (debido a que se baja si son más estrechos), así como que hasta la temporada 2009 estaban permitidos los repostajes por los que aumentan el tiempo total.</p>
<p>Para hacernos una idea de la magnitud de estas cifras, la media actual de las paradas en Boxes si todo sale bien es de unos 24 segundos.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>mejores_pitstops <span class="ot">&lt;-</span> <span class="fu">full_join</span>(pilotos, pitstops, <span class="fu">c</span>(<span class="st">"driverId"</span> <span class="ot">=</span> <span class="st">"driverId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2"></a>        <span class="fu">full_join</span>(., carreras, <span class="fu">c</span>(<span class="st">"raceId"</span> <span class="ot">=</span> <span class="st">"raceId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3"></a>        <span class="fu">select</span>(driverRef, milliseconds) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4"></a>        <span class="fu">slice_min</span>(milliseconds, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb8-5"><a href="#cb8-5"></a>mejores_pitstops</span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">#&gt;             driverRef milliseconds</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt; 1           maldonado        12897</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt; 2         bruno_senna        12959</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt; 3            hamilton        13173</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt; 4           maldonado        13186</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; 5  michael_schumacher        13199</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt; 6               perez        13201</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt; 7           maldonado        13206</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; 8               massa        13259</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt; 9           maldonado        13266</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt; 10             vettel        13335</span></span>
<span id="cb8-17"><a href="#cb8-17"></a></span>
<span id="cb8-18"><a href="#cb8-18"></a>mejores_pitstops <span class="ot">&lt;-</span> mejores_pitstops <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">milliseconds =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(milliseconds))</span>
<span id="cb8-19"><a href="#cb8-19"></a>mejores_pitstops <span class="ot">&lt;-</span> mejores_pitstops <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">milliseconds =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(milliseconds))</span>
<span id="cb8-20"><a href="#cb8-20"></a></span>
<span id="cb8-21"><a href="#cb8-21"></a>G_pitstops <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mejores_pitstops) <span class="sc">+</span></span>
<span id="cb8-22"><a href="#cb8-22"></a>        <span class="fu">aes</span>(<span class="at">x =</span> driverRef, <span class="at">y =</span> milliseconds) <span class="sc">+</span></span>
<span id="cb8-23"><a href="#cb8-23"></a>        <span class="fu">geom_tile</span>(<span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb8-24"><a href="#cb8-24"></a>        <span class="fu">labs</span>(</span>
<span id="cb8-25"><a href="#cb8-25"></a>                <span class="at">x =</span> <span class="st">"-"</span>,</span>
<span id="cb8-26"><a href="#cb8-26"></a>                <span class="at">y =</span> <span class="st">"milisegundos"</span>,</span>
<span id="cb8-27"><a href="#cb8-27"></a>                <span class="at">title =</span> <span class="st">"10 Pit stops mas rápidos"</span>,</span>
<span id="cb8-28"><a href="#cb8-28"></a>                <span class="at">subtitle =</span> <span class="st">"Desde entrada a Pit-line hasta salida"</span></span>
<span id="cb8-29"><a href="#cb8-29"></a>        ) <span class="sc">+</span></span>
<span id="cb8-30"><a href="#cb8-30"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb8-31"><a href="#cb8-31"></a>        ggthemes<span class="sc">::</span><span class="fu">theme_base</span>()</span>
<span id="cb8-32"><a href="#cb8-32"></a>G_pitstops</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>Respecto de los datos evidencian lo comentado anteriormente y nos encontramos a los 2 mismos circuitos en las 6 primeras posiciones, siendo en primera posición a Pastor Maldonado con un tiempo de 12.897 segundos en el GP de Abu Dhabi 2011, siendo la segunda marca también en el mismo GP por parte de Bruno Senna con 12.959 segundos.</p>
<p>La tercera mejor marca la encontramos en el GP de Hungría de 2011 por parte de Lewis Hamilton con 13.173 segundos, en cuarta posición en el mismo GP encontramos de nuevo a Maldonado con 13.186 segundos</p>
<p>En quinta y sexta posición y últimas que destacaremos encontramos el GP de Hungría de 2012 a Michael Schumacher con 12.199 segundos y de nuevo el GP de Hungría 2011 a Sergio Pérez con 13.201 segundos.</p>
</section></section><section id="temporada-2021" class="level1"><h1>Temporada 2021</h1>
<p>La temporada 2021 fue una de las temporadas más emocionantes de los últimos tiempos gracias a que la lucha de los dos contendientes por el campeonato de pilotos ha sido intrigante hasta el final. Finalmente, Max Verstappen se llevó la corona de pilotos, mientras que Mercedes la de constructores.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>constructores <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb9-2"><a href="#cb9-2"></a>        <span class="st">"posicion"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>),</span>
<span id="cb9-3"><a href="#cb9-3"></a>        <span class="st">"escuderia"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Mercedes"</span>, <span class="st">"Red Bull"</span>, <span class="st">"Ferrari"</span>, <span class="st">"Mclaren"</span>, <span class="st">"Alpine"</span>, <span class="st">"AlphaTauri"</span>, <span class="st">"Aston Martin"</span>, <span class="st">"Williams"</span>, <span class="st">"Alfa Romeo"</span>, <span class="st">"Haas"</span>),</span>
<span id="cb9-4"><a href="#cb9-4"></a>        <span class="st">"puntos"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">613.5</span>,<span class="fl">585.5</span>,<span class="fl">323.5</span>,<span class="dv">275</span>,<span class="dv">155</span>,<span class="dv">142</span>,<span class="dv">77</span>,<span class="dv">23</span>,<span class="dv">13</span>,<span class="dv">0</span>))</span>
<span id="cb9-5"><a href="#cb9-5"></a></span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a>grafico_jose_constructores <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(constructores) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(escuderia, <span class="fu">desc</span>(puntos)), <span class="at">y =</span> puntos) <span class="sc">+</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>        <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>        <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Escudería"</span>, </span>
<span id="cb9-11"><a href="#cb9-11"></a>             <span class="at">y =</span> <span class="st">"Puntos"</span>, <span class="at">title =</span> <span class="st">"Campeonato de Constructores"</span>, <span class="at">subtitle =</span> <span class="st">"Escuderías 2021"</span>) <span class="sc">+</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 16L, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 13L, </span>
<span id="cb9-14"><a href="#cb9-14"></a>                                                                                               <span class="at">hjust =</span> <span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>        <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>puntos), <span class="at">vjust=</span><span class="fl">0.99</span>,<span class="at">hjust=</span><span class="fl">0.49</span>, <span class="at">color=</span><span class="st">"white"</span>,    </span>
<span id="cb9-16"><a href="#cb9-16"></a>                  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.1</span>),  <span class="at">size=</span><span class="fl">4.0</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>        )</span>
<span id="cb9-18"><a href="#cb9-18"></a>grafico_jose_constructores</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>El campeonato comenzó en Bahréin donde Max empezaba en la pole position con Lewis Hamilton a su lado. Hasta la vuelta 20, el holandés se mantuvo por delante de Hamilton, sin embargo, un error estratégico por parte de Red Bull hizo que el piloto británico lo aprovechara situándose en primera posición a 5 vueltas del final. Sin embargo, en la vuelta 53 de 56, Verstappen consigue rebasar al Mercedes pero tuvo que devolverle la posición por adelantarle por fuera de los límites de pista. De esta manera, Hamilton lograría vencer a Max en la primera carrera del campeonato.</p>
<p>Un punto de inflexión fue el Gran Premio de Mónaco el cual fue para Verstappen absolutamente perfecto. No cometió ni un solo error, se mantuvo en el liderato de inicio a fin mientras que su rival tan solo consiguió una séptima posición. El fin de semana siguiente, tuvo lugar uno de los grandes errores que le hicieron perder el campeonato de pilotos a Hamilton puesto que no supo aprovechar el abandono de Max a 5 vueltas para el final y cometió un error en la resalida tras la bandera roja. Esto provocó que en lugar de quedar primero y sacar 25 puntos de diferencia a su rival en el campeonato, finalizase la carrera en 15º posición obteniendo así 0 puntos.</p>
<p>En la décima carrera del campeonato, el Gran Premio de Gran Bretaña, tuvo lugar el momento más polémico del campeonato e incluso de los últimos tiempos. Verstappen llegaba al fin de semana con 32 puntos de ventaja sobre Lewis y buscaba continuar su racha de 3 triunfos consecutivos. Sin embargo, en la primera vuelta de la carrera, Max toma la delantera en la salida mientras Hamilton se queda en la segunda posición. Al llegar a Copse, una de las curvas más rápidas del campeonato, el de Mercedes expulsó fuera de la pista a Max al tratar de rebasarle provocando que el Red Bull saliera disparado hacia el muro de contención con un impacto de 51 Gs. De esta manera, con su rival fuera de combate, Lewis ganaría la carrera permitiéndole así recortarle 25 puntos al holandés.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>piloto <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Verstappen"</span>, <span class="st">"Hamilton"</span>, <span class="st">"Leclerc"</span>, <span class="st">"Sainz"</span>, <span class="st">"Bottas"</span>, <span class="st">"Alonso"</span>, <span class="st">"Pérez"</span>, <span class="st">"Ocon"</span>, <span class="st">"Norris"</span>, <span class="st">"Ricciardo"</span>, <span class="st">"Gasly"</span>, <span class="st">"Tsunoda"</span>, <span class="st">"Vettel"</span>, <span class="st">"Stroll"</span>, <span class="st">"Latifi"</span>, <span class="st">"Russell"</span>, <span class="st">"Mazepin"</span>, <span class="st">"Schumacher"</span>, <span class="st">"Giovinazzi"</span>, <span class="st">"Raikkonen"</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a>puntos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">395.5</span>,<span class="fl">387.5</span>, <span class="dv">159</span>, <span class="fl">164.5</span>,<span class="dv">226</span>,<span class="dv">81</span>,<span class="dv">190</span>,<span class="dv">74</span>,<span class="dv">160</span>,<span class="dv">115</span>,<span class="dv">110</span>,<span class="dv">32</span>,<span class="dv">43</span>,<span class="dv">34</span>,<span class="dv">7</span>,<span class="dv">16</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">10</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(puntos, piloto)</span>
<span id="cb10-4"><a href="#cb10-4"></a></span>
<span id="cb10-5"><a href="#cb10-5"></a>grafico_jose_pilotos <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(piloto, <span class="fu">desc</span>(puntos)), <span class="at">y =</span> puntos) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>        <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>        <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Pilotos"</span>, <span class="at">y =</span> <span class="st">"Puntos"</span>, </span>
<span id="cb10-9"><a href="#cb10-9"></a>             <span class="at">title =</span> <span class="st">"Campeonato de Pilotos"</span>) <span class="sc">+</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 16L, </span>
<span id="cb10-12"><a href="#cb10-12"></a>                                        <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 12L, <span class="at">face =</span> <span class="st">"bold"</span>), <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 12L, </span>
<span id="cb10-13"><a href="#cb10-13"></a>                                                                                                                                                         <span class="at">face =</span> <span class="st">"bold"</span>))<span class="sc">+</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>        <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>puntos), <span class="at">vjust=</span><span class="fl">0.99</span>,<span class="at">hjust=</span><span class="fl">0.49</span>, <span class="at">color=</span><span class="st">"white"</span>,    </span>
<span id="cb10-15"><a href="#cb10-15"></a>                  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.1</span>),  <span class="at">size=</span><span class="fl">4.0</span>)</span>
<span id="cb10-16"><a href="#cb10-16"></a></span>
<span id="cb10-17"><a href="#cb10-17"></a>grafico_jose_pilotos</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="trabajo_F1_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>


<!-- -->

</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reutilización</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.es">https://creativecommons.org/licenses/by/4.0/deed.es</a></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb11" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1"></a><span class="co">---</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="an">title:</span><span class="co"> "Big Data en la Formula 1"</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="an">description:</span><span class="co"> |</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">  Por medio de los datos obtenidos, procederemos a realizar un resumen de las distintas variables y acontecimientos que conforman la competición mundial de Fórmula 1, así como una serie de curiosidades, junto a un análisis de la temporada 2021</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="an">author:</span><span class="co"> </span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">- name: Alejandro Hortelano Martin (ahormar@alumni.uv.es) </span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">- name: Victor Gallego Urrea (vicgau@alumni.uv.es)                </span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">- name: Jose Maria Pérez Marco (jomape4@alumni.uv.es)</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="an">date:</span><span class="co"> 2022-12-22                      </span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="an">categories:</span><span class="co"> [trabajo Big Data]   </span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="an">image:</span><span class="co"> "./imagenes/imagen_01.png"</span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="an">title-block-banner:</span><span class="co"> true </span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="an">title-block-banner-color:</span><span class="co"> "white"   </span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="an">toc-location:</span><span class="co"> left</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="an">toc-depth:</span><span class="co"> 3</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="an">smooth-scroll:</span><span class="co"> true</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="co">  html:</span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="co">    mainfont: serif</span></span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="co">    #css: ./assets/my_css_file.css   #- CUIDADO!!!!</span></span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb11-25"><a href="#cb11-25"></a><span class="co">---</span></span>
<span id="cb11-26"><a href="#cb11-26"></a></span>
<span id="cb11-27"><a href="#cb11-27"></a><span class="fu"># Introducción</span></span>
<span id="cb11-30"><a href="#cb11-30"></a><span class="in">```{r}</span></span>
<span id="cb11-31"><a href="#cb11-31"></a><span class="in">```</span></span>
<span id="cb11-32"><a href="#cb11-32"></a>El siguiente trabajo se va a estructurar de la siguiente forma:</span>
<span id="cb11-33"><a href="#cb11-33"></a></span>
<span id="cb11-34"><a href="#cb11-34"></a><span class="ss">- </span>En primer lugar, vamos a realizar una contextualización del campeonato y de sus distintos elementos, mediante diferentes gráficos que hemos realizado utilizando el programa Rstudio. Queriendo enfocar principalmente vuestra atención en las distintas audiencias y su evolución en los últimos años, comparaciones con otras competiciones deportivas de distinta modalidad, las escuderías y pilotos que conforman y han conformado las parrillas a lo largo de la historia...</span>
<span id="cb11-35"><a href="#cb11-35"></a></span>
<span id="cb11-36"><a href="#cb11-36"></a><span class="ss">- </span>En segundo lugar, procederemos a explicar la evolución de la Fórmula 1 a lo largo de su historia a través de gráficos donde compararemos victorias por pilotos y explicaremos la relevancia que estos han tenido para la competición a lo largo de los años, así como los pit-stops más rápidos hasta la actualidad.</span>
<span id="cb11-37"><a href="#cb11-37"></a></span>
<span id="cb11-38"><a href="#cb11-38"></a><span class="ss">- </span>En tercer lugar, hemos querido dedicar la última parte a explicar la temporada 2021 y la fuerte competición entre los dos pilotos más destacados.</span>
<span id="cb11-39"><a href="#cb11-39"></a></span>
<span id="cb11-40"><a href="#cb11-40"></a><span class="fu"># Datos del trabajo</span></span>
<span id="cb11-41"><a href="#cb11-41"></a>El dataset que hemos utilizado para realizar este trabajo está hecho a partir de <span class="co">[</span><span class="ot">kaggle</span><span class="co">](https://www.kaggle.com)</span> y más concretamente <span class="co">[</span><span class="ot">aquí</span><span class="co">](https://www.kaggle.com/datasets/rohanrao/formula-1-world-championship-1950-2020?resource=downloadhttps://www.kaggle.com/datasets/rohanrao/formula-1-world-championship-1950-2020?resource=download)</span>, junto a la base de datos <span class="co">[</span><span class="ot">Statista</span><span class="co">](https://es.statista.com)</span> para obtener los datos sobre las audiencias y el Prize Pool de las competiciones deportivas</span>
<span id="cb11-42"><a href="#cb11-42"></a></span>
<span id="cb11-43"><a href="#cb11-43"></a><span class="fu">## Código R del trabajo</span></span>
<span id="cb11-44"><a href="#cb11-44"></a></span>
<span id="cb11-47"><a href="#cb11-47"></a><span class="in">```{r}</span></span>
<span id="cb11-48"><a href="#cb11-48"></a><span class="co">#A continuación vamos a poner todas las librerías que hemos necesitado</span></span>
<span id="cb11-49"><a href="#cb11-49"></a></span>
<span id="cb11-50"><a href="#cb11-50"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb11-51"><a href="#cb11-51"></a><span class="fu">library</span>(readxl)</span>
<span id="cb11-52"><a href="#cb11-52"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb11-53"><a href="#cb11-53"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb11-54"><a href="#cb11-54"></a><span class="fu">library</span>(stats)</span>
<span id="cb11-55"><a href="#cb11-55"></a><span class="fu">library</span>(plotly)</span>
<span id="cb11-56"><a href="#cb11-56"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-57"><a href="#cb11-57"></a><span class="fu">library</span>(treemap)</span>
<span id="cb11-58"><a href="#cb11-58"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb11-59"><a href="#cb11-59"></a><span class="fu">library</span>(magick)</span>
<span id="cb11-60"><a href="#cb11-60"></a></span>
<span id="cb11-61"><a href="#cb11-61"></a><span class="co">#Mediante este código cargamos todos los dataset</span></span>
<span id="cb11-62"><a href="#cb11-62"></a></span>
<span id="cb11-63"><a href="#cb11-63"></a>tiempos <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/lap_times.csv"</span>)</span>
<span id="cb11-64"><a href="#cb11-64"></a>pilotos <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/drivers.csv"</span>)</span>
<span id="cb11-65"><a href="#cb11-65"></a>resultados <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/results.csv"</span>)</span>
<span id="cb11-66"><a href="#cb11-66"></a>carreras <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/races.csv"</span>)</span>
<span id="cb11-67"><a href="#cb11-67"></a>escuderias <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/constructors.csv"</span>)</span>
<span id="cb11-68"><a href="#cb11-68"></a>escuderias2 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/constructor_standings.csv"</span>)</span>
<span id="cb11-69"><a href="#cb11-69"></a>resultado_escuderias <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/constructor_results.csv"</span>)</span>
<span id="cb11-70"><a href="#cb11-70"></a>circuitos <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> <span class="st">"./datos/circuits.csv"</span>)</span>
<span id="cb11-71"><a href="#cb11-71"></a>pit_stops <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datos/pit_stops.csv"</span>)</span>
<span id="cb11-72"><a href="#cb11-72"></a>Prizepool_competiciones <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"datos/valor_eventos.xlsx"</span>)</span>
<span id="cb11-73"><a href="#cb11-73"></a>Prizepool_competiciones <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(Prizepool_competiciones)</span>
<span id="cb11-74"><a href="#cb11-74"></a>Valor_marcas <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"datos/valor_marcas.xlsx"</span>)</span>
<span id="cb11-75"><a href="#cb11-75"></a>audiencias <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"datos/audiencias.xlsx"</span>)</span>
<span id="cb11-76"><a href="#cb11-76"></a>pitstops <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file=</span> <span class="st">"./datos/pit_stops.csv"</span>)</span>
<span id="cb11-77"><a href="#cb11-77"></a></span>
<span id="cb11-78"><a href="#cb11-78"></a><span class="in">```</span></span>
<span id="cb11-79"><a href="#cb11-79"></a></span>
<span id="cb11-80"><a href="#cb11-80"></a><span class="fu"># Contextualización del campeonato</span></span>
<span id="cb11-81"><a href="#cb11-81"></a></span>
<span id="cb11-82"><a href="#cb11-82"></a>El Campeonato Mundial de la Fórmula 1, organizado por la FIA, es uno de los deportes con mayor auge en los últimos 2 años, reuniendo a miles de aficionados cada fin de semana, y siendo el número 1 respecto a los deportes de motor, imponiéndose a otras modalidades como el Rally o el Campeonato Mundial de Moto GP. </span>
<span id="cb11-83"><a href="#cb11-83"></a></span>
<span id="cb11-84"><a href="#cb11-84"></a>Tras una extensa temporada, entre los años 2004 y 2010 con una clara tendencia alcista en cuanto a espectadores, observamos una reducción año tras año de la cantidad total de espectadores debido al dominio de Mercedes y a la privatización de los derechos televisivos de la competición, lo que causó que la gran parte de la población no pudiese acceder o no estuviera dispuesta a pagar el precio que se estableció cada año para ver la competición cada fin de semana. Pero en los últimos años ha adquirido una mayor relevancia dicho campeonato, creciendo el número de espectadores, especialmente en España gracias al fenómeno denominado como “El Plan”, relacionado con el piloto Fernando Alonso.</span>
<span id="cb11-85"><a href="#cb11-85"></a></span>
<span id="cb11-88"><a href="#cb11-88"></a><span class="in">```{r}</span></span>
<span id="cb11-89"><a href="#cb11-89"></a>g <span class="ot">&lt;-</span> crosstalk<span class="sc">::</span>SharedData<span class="sc">$</span><span class="fu">new</span>(audiencias)</span>
<span id="cb11-90"><a href="#cb11-90"></a>grafico_audiencias <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(g, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>numero_espectadores, <span class="at">frame =</span> year)) <span class="sc">+</span></span>
<span id="cb11-91"><a href="#cb11-91"></a>        <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb11-92"><a href="#cb11-92"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución del número de espectadores por año"</span>,</span>
<span id="cb11-93"><a href="#cb11-93"></a>             <span class="at">subtitle =</span> <span class="st">"Desde el 2004 hasta el 2020"</span>,</span>
<span id="cb11-94"><a href="#cb11-94"></a>             <span class="at">x =</span> <span class="st">"Años"</span>,</span>
<span id="cb11-95"><a href="#cb11-95"></a>             <span class="at">y =</span> <span class="st">"Número total de espectadores"</span>) <span class="sc">+</span></span>
<span id="cb11-96"><a href="#cb11-96"></a>        <span class="fu">scale_x_log10</span>() <span class="sc">+</span><span class="fu">scale_y_continuous</span>(<span class="at">labels=</span><span class="cf">function</span>(n){<span class="fu">format</span>(n, <span class="at">scientific =</span> <span class="cn">FALSE</span>)})</span>
<span id="cb11-97"><a href="#cb11-97"></a>grafico_audiencias <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(grafico_audiencias) <span class="sc">%&gt;%</span> <span class="fu">highlight</span>(<span class="st">"plotly_hover"</span>)</span>
<span id="cb11-98"><a href="#cb11-98"></a></span>
<span id="cb11-99"><a href="#cb11-99"></a>grafico_audiencias</span>
<span id="cb11-100"><a href="#cb11-100"></a><span class="in">```</span></span>
<span id="cb11-101"><a href="#cb11-101"></a></span>
<span id="cb11-102"><a href="#cb11-102"></a>Hecho que podemos comprobar por otra vía, al comparar el “Prize pool” entre las diferentes competiciones deportivas del mundo superando a competiciones como el campeonato mundial de la FIFA, el campeonato mundial de Póker o incluso la UEFA Europa League. Pero siendo claramente inferior la F1, junto al resto de competiciones deportivas existentes en la actualidad, a la UEFA Champions League y es que el fútbol es el deporte líder en audiencia a nivel mundial sin ningún claro competidor, llegando el “prize pool” de dicha competición a  la cifra de 1300 millones de dólares, ante los casi 800 millones de dólares de la F1.</span>
<span id="cb11-103"><a href="#cb11-103"></a></span>
<span id="cb11-106"><a href="#cb11-106"></a><span class="in">```{r}</span></span>
<span id="cb11-107"><a href="#cb11-107"></a>Prizepool_competiciones <span class="ot">&lt;-</span> Prizepool_competiciones <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Competiciones =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(Competiciones))</span>
<span id="cb11-108"><a href="#cb11-108"></a>Prizepool_competiciones <span class="ot">&lt;-</span> Prizepool_competiciones <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Competiciones =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(Competiciones))</span>
<span id="cb11-109"><a href="#cb11-109"></a></span>
<span id="cb11-110"><a href="#cb11-110"></a>grafico_eventos <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Prizepool_competiciones) <span class="sc">+</span></span>
<span id="cb11-111"><a href="#cb11-111"></a>        <span class="fu">aes</span>(<span class="at">x =</span> Competiciones, <span class="at">weight =</span> Dinero) <span class="sc">+</span></span>
<span id="cb11-112"><a href="#cb11-112"></a>        <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb11-113"><a href="#cb11-113"></a>        <span class="fu">labs</span>(</span>
<span id="cb11-114"><a href="#cb11-114"></a>                <span class="at">x =</span> <span class="st">"Competiciones"</span>,</span>
<span id="cb11-115"><a href="#cb11-115"></a>                <span class="at">y =</span> <span class="st">"Dinero (expresado en millones de dólares)"</span>,</span>
<span id="cb11-116"><a href="#cb11-116"></a>                <span class="at">title =</span> <span class="st">"Prize pool "</span>,</span>
<span id="cb11-117"><a href="#cb11-117"></a>                <span class="at">subtitle =</span> <span class="st">"De las principales competiciones deportivas"</span></span>
<span id="cb11-118"><a href="#cb11-118"></a>        ) <span class="sc">+</span> </span>
<span id="cb11-119"><a href="#cb11-119"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb11-120"><a href="#cb11-120"></a>        <span class="fu">theme_classic</span>()</span>
<span id="cb11-121"><a href="#cb11-121"></a></span>
<span id="cb11-122"><a href="#cb11-122"></a>grafico_eventos</span>
<span id="cb11-123"><a href="#cb11-123"></a></span>
<span id="cb11-124"><a href="#cb11-124"></a><span class="in">```</span></span>
<span id="cb11-125"><a href="#cb11-125"></a></span>
<span id="cb11-126"><a href="#cb11-126"></a>Al tratarse de un deporte de automovilismo, el elemento principal es el coche y por ello hemos querido destacar las principales partes del vehículo que dan vida al campeonato. Incluyendo aquí al motor, el corazón del coche y el elemento principal por el cual ha evolucionado tanto la Fórmula 1; el alerón trasero, que junto al resto de elementos de la carrocería, son los que le proporcionan la carga aerodinámica que permiten alcanzar velocidades superiores a 300 kilómetros por hora; el halo, elemento incluido en los últimos años y que ha salvado numerosas vidas de los pilotos en los accidentes al proteger sus cabezas por todas las direcciones; el morro, que junto a los difusores y alerones son los que generan el llamado “efecto suelo”; destacando los neumáticos (slicks) cuyo cambio en la carrera genera el denominado “pit-stop”; y por último el volante, que junto a los pedales es la fuente de la unión entre el piloto y la máquina.</span>
<span id="cb11-127"><a href="#cb11-127"></a></span>
<span id="cb11-130"><a href="#cb11-130"></a><span class="in">```{r}</span></span>
<span id="cb11-131"><a href="#cb11-131"></a>faps <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/faps.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb11-132"><a href="#cb11-132"></a>halo <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/halo.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb11-133"><a href="#cb11-133"></a>morro <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/morro.png"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb11-134"><a href="#cb11-134"></a>motor <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/motor.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb11-135"><a href="#cb11-135"></a>volante <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/volante.jpg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb11-136"><a href="#cb11-136"></a>partes_del_coche <span class="ot">&lt;-</span> <span class="fu">c</span>(faps,halo,morro,motor,volante)</span>
<span id="cb11-137"><a href="#cb11-137"></a><span class="fu">image_animate</span>(<span class="fu">image_scale</span>(partes_del_coche), <span class="at">fps =</span> <span class="fl">0.5</span>)</span>
<span id="cb11-138"><a href="#cb11-138"></a><span class="in">```</span></span>
<span id="cb11-139"><a href="#cb11-139"></a></span>
<span id="cb11-140"><a href="#cb11-140"></a>En la F1 compiten actualmente 10 equipos con 2 pilotos por equipo, lo que conforma una parrilla de 20 pilotos en cada carrera en la que disputan tanto el título de pilotos como el de constructores (equipos). Los títulos se disputan en un calendario de 22 carreras (Temporada 2021) alrededor del mundo, no obstante el número de pilotos, equipos y carreras ha variado a lo largo de la historia de este campeonato.</span>
<span id="cb11-141"><a href="#cb11-141"></a></span>
<span id="cb11-142"><a href="#cb11-142"></a>Actualmente los equipos inscritos y pilotos (por orden de campeonato de constructores de 2022) són:</span>
<span id="cb11-143"><a href="#cb11-143"></a></span>
<span id="cb11-144"><a href="#cb11-144"></a>1º- **Red Bull Racing** con Max Verstappen y Sérgio Pérez</span>
<span id="cb11-145"><a href="#cb11-145"></a></span>
<span id="cb11-146"><a href="#cb11-146"></a>2º- **Ferrari** con Charles Leclerc y Carlos Sainz</span>
<span id="cb11-147"><a href="#cb11-147"></a></span>
<span id="cb11-148"><a href="#cb11-148"></a>3º- **Mercedes-AMG** con George Russell y Lewis Hamilton</span>
<span id="cb11-149"><a href="#cb11-149"></a></span>
<span id="cb11-150"><a href="#cb11-150"></a>4º- **Alpine Renault** con Fernando Alonso y Esteban Ocon</span>
<span id="cb11-151"><a href="#cb11-151"></a></span>
<span id="cb11-152"><a href="#cb11-152"></a>5º- **Mclaren Mercedes** con Lando Norris y Daniel Ricciardo</span>
<span id="cb11-153"><a href="#cb11-153"></a></span>
<span id="cb11-154"><a href="#cb11-154"></a>6º- **Alfa Romeo Ferrari** con Valtteri Bottas y Guanyu Zhou</span>
<span id="cb11-155"><a href="#cb11-155"></a></span>
<span id="cb11-156"><a href="#cb11-156"></a>7º- **Aston Martin Mercedes** con Sebastian Vettle y Lance Stroll</span>
<span id="cb11-157"><a href="#cb11-157"></a></span>
<span id="cb11-158"><a href="#cb11-158"></a>8º- **Haas Ferrari** con Kevin Magnussen y Mick Schumacher</span>
<span id="cb11-159"><a href="#cb11-159"></a></span>
<span id="cb11-160"><a href="#cb11-160"></a>9º- **Alpha Tauri RBPT** con Pierre Gasly y Yuki Tsunoda</span>
<span id="cb11-161"><a href="#cb11-161"></a></span>
<span id="cb11-162"><a href="#cb11-162"></a>10º- **Williams Mercedes** con Alex Albon y Nicholas Latifi</span>
<span id="cb11-163"><a href="#cb11-163"></a></span>
<span id="cb11-164"><a href="#cb11-164"></a>Dentro de los anteriores equipos inscritos y de acuerdo con el gráfico, destaca una enorme divergencia en cuanto al valor económico de los distintos equipos competidores que en ocasiones los pilotos han demostrado con su habilidad la baja correlación entre el valor económico del equipo y el número de victorias. Aún así, la divergencia entre marcas como Ferrari o Alfa Romeo, que es de más de 1200 millones dólares, es fundamental en cuanto a la inversión en tecnología para mejorar campeonato tras campeonato. Ya que tenemos que recordar que la tecnología y la I+D es fundamental en un deporte de automovilismo como éste, existiendo una dura reglamentación para solucionar las divergencias.</span>
<span id="cb11-165"><a href="#cb11-165"></a></span>
<span id="cb11-168"><a href="#cb11-168"></a><span class="in">```{r}</span></span>
<span id="cb11-169"><a href="#cb11-169"></a>grafico_valor_escuderías <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Valor_marcas, <span class="fu">aes</span>(<span class="at">area =</span> Dinero, <span class="at">fill =</span> Marcas,</span>
<span id="cb11-170"><a href="#cb11-170"></a>                                                     <span class="at">label =</span> Marcas)) <span class="sc">+</span></span>
<span id="cb11-171"><a href="#cb11-171"></a>        <span class="fu">geom_treemap</span>() <span class="sc">+</span></span>
<span id="cb11-172"><a href="#cb11-172"></a>        <span class="fu">geom_treemap_text</span>(<span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb11-173"><a href="#cb11-173"></a>                          <span class="at">place =</span> <span class="st">"centre"</span>,</span>
<span id="cb11-174"><a href="#cb11-174"></a>                          <span class="at">size =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb11-175"><a href="#cb11-175"></a>        <span class="fu">scale_fill_brewer</span>() <span class="sc">+</span></span>
<span id="cb11-176"><a href="#cb11-176"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Valor económico de las marcas"</span>,</span>
<span id="cb11-177"><a href="#cb11-177"></a>             <span class="at">subtitle =</span> <span class="st">"Expresado en millones de dólares"</span>,</span>
<span id="cb11-178"><a href="#cb11-178"></a>             </span>
<span id="cb11-179"><a href="#cb11-179"></a>             )</span>
<span id="cb11-180"><a href="#cb11-180"></a></span>
<span id="cb11-181"><a href="#cb11-181"></a>grafico_valor_escuderías</span>
<span id="cb11-182"><a href="#cb11-182"></a><span class="in">```</span></span>
<span id="cb11-183"><a href="#cb11-183"></a></span>
<span id="cb11-184"><a href="#cb11-184"></a>Por otro lado, las citas del último campeonato fueron:</span>
<span id="cb11-185"><a href="#cb11-185"></a></span>
<span id="cb11-186"><a href="#cb11-186"></a>**GP Bahrein**</span>
<span id="cb11-187"><a href="#cb11-187"></a></span>
<span id="cb11-188"><a href="#cb11-188"></a>**GP Arabia Saudi**</span>
<span id="cb11-189"><a href="#cb11-189"></a></span>
<span id="cb11-190"><a href="#cb11-190"></a>**GP Australia**</span>
<span id="cb11-191"><a href="#cb11-191"></a></span>
<span id="cb11-192"><a href="#cb11-192"></a>**GP Emilia Romagna**</span>
<span id="cb11-193"><a href="#cb11-193"></a></span>
<span id="cb11-194"><a href="#cb11-194"></a>**GP Miami**</span>
<span id="cb11-195"><a href="#cb11-195"></a></span>
<span id="cb11-196"><a href="#cb11-196"></a>**GP España**</span>
<span id="cb11-197"><a href="#cb11-197"></a></span>
<span id="cb11-198"><a href="#cb11-198"></a>**GP Mónaco**</span>
<span id="cb11-199"><a href="#cb11-199"></a></span>
<span id="cb11-200"><a href="#cb11-200"></a>**GP Azerbaijan**</span>
<span id="cb11-201"><a href="#cb11-201"></a></span>
<span id="cb11-202"><a href="#cb11-202"></a>**GP Canada**</span>
<span id="cb11-203"><a href="#cb11-203"></a></span>
<span id="cb11-204"><a href="#cb11-204"></a>**GP Gran Bretaña**</span>
<span id="cb11-205"><a href="#cb11-205"></a></span>
<span id="cb11-206"><a href="#cb11-206"></a>**Gp Austria**</span>
<span id="cb11-207"><a href="#cb11-207"></a></span>
<span id="cb11-208"><a href="#cb11-208"></a>**GP Francia**</span>
<span id="cb11-209"><a href="#cb11-209"></a></span>
<span id="cb11-210"><a href="#cb11-210"></a>**GP Hungria**</span>
<span id="cb11-211"><a href="#cb11-211"></a></span>
<span id="cb11-212"><a href="#cb11-212"></a>**GP Belgica**</span>
<span id="cb11-213"><a href="#cb11-213"></a></span>
<span id="cb11-214"><a href="#cb11-214"></a>**GP Holanda**</span>
<span id="cb11-215"><a href="#cb11-215"></a></span>
<span id="cb11-216"><a href="#cb11-216"></a>**GP Italia**</span>
<span id="cb11-217"><a href="#cb11-217"></a></span>
<span id="cb11-218"><a href="#cb11-218"></a>**GP Singapur**</span>
<span id="cb11-219"><a href="#cb11-219"></a></span>
<span id="cb11-220"><a href="#cb11-220"></a>**GP Japon**</span>
<span id="cb11-221"><a href="#cb11-221"></a></span>
<span id="cb11-222"><a href="#cb11-222"></a>**GP EE.UU.**</span>
<span id="cb11-223"><a href="#cb11-223"></a></span>
<span id="cb11-224"><a href="#cb11-224"></a>**GP Mexico**</span>
<span id="cb11-225"><a href="#cb11-225"></a></span>
<span id="cb11-226"><a href="#cb11-226"></a>**GP Brasil**</span>
<span id="cb11-227"><a href="#cb11-227"></a></span>
<span id="cb11-228"><a href="#cb11-228"></a>**GP Abu Dhabi**</span>
<span id="cb11-229"><a href="#cb11-229"></a></span>
<span id="cb11-230"><a href="#cb11-230"></a>Es interesante comentar también la procedencia de los diferentes equipos, que se adjudica según el establecimiento de la fábrica, como podemos observar la gran mayoría están instaladas en Gran Bretaña en el llamado “Motorsports Valley”,  sería el caso de los equipos actuales como Aston Martin (Silverstone), Mercedes (Brackley), Red Bull ( Milton Keynes), Mclaren (Woking) ,Williams (Grove) incluso Alpine (Enstone). Y generando, junto a Estados Unidos e Italia en menor medida, una enorme concentración tecnológica en cuanto a este sector. Dentro del ámbito económico podríamos afirmar que nos encontramos ante un Clúster tecnológico.</span>
<span id="cb11-231"><a href="#cb11-231"></a></span>
<span id="cb11-234"><a href="#cb11-234"></a><span class="in">```{r}</span></span>
<span id="cb11-235"><a href="#cb11-235"></a>df_escuderias_agrupadas <span class="ot">&lt;-</span> escuderias <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(nationality) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">NN=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb11-236"><a href="#cb11-236"></a>        <span class="fu">slice_max</span>(NN, <span class="at">n=</span><span class="dv">4</span>)</span>
<span id="cb11-237"><a href="#cb11-237"></a></span>
<span id="cb11-238"><a href="#cb11-238"></a></span>
<span id="cb11-239"><a href="#cb11-239"></a>grafico_escuderias_por_paises <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_escuderias_agrupadas) <span class="sc">+</span></span>
<span id="cb11-240"><a href="#cb11-240"></a>        <span class="fu">aes</span>(<span class="at">x =</span> NN, <span class="at">color =</span> nationality,<span class="at">weight =</span> NN) <span class="sc">+</span></span>
<span id="cb11-241"><a href="#cb11-241"></a>        <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb11-242"><a href="#cb11-242"></a>        <span class="fu">scale_color_hue</span>(<span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-243"><a href="#cb11-243"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Escuderías agrupadas por nacionalidades en la historia"</span>,</span>
<span id="cb11-244"><a href="#cb11-244"></a>             <span class="at">subtitle =</span> <span class="st">"Escogidas las 4 con mayor cantidad"</span>,</span>
<span id="cb11-245"><a href="#cb11-245"></a>             <span class="at">x =</span> <span class="st">"Número total de nacionalidades"</span>,</span>
<span id="cb11-246"><a href="#cb11-246"></a>             <span class="at">y =</span> <span class="st">"Número total de nacionalidades"</span>) <span class="sc">+</span></span>
<span id="cb11-247"><a href="#cb11-247"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">coord_polar</span>()</span>
<span id="cb11-248"><a href="#cb11-248"></a></span>
<span id="cb11-249"><a href="#cb11-249"></a>grafico_escuderias_por_paises</span>
<span id="cb11-250"><a href="#cb11-250"></a><span class="in">```</span></span>
<span id="cb11-251"><a href="#cb11-251"></a></span>
<span id="cb11-252"><a href="#cb11-252"></a><span class="fu"># Historia y curiosidades en la Fórmula 1</span></span>
<span id="cb11-253"><a href="#cb11-253"></a></span>
<span id="cb11-254"><a href="#cb11-254"></a><span class="fu">## Pilotos más exitosos en la historia</span></span>
<span id="cb11-255"><a href="#cb11-255"></a></span>
<span id="cb11-256"><a href="#cb11-256"></a>Desde 1950 hasta 2022 han competido 856 pilotos en 214 equipos distintos en la categoría. De estos pilotos tan solo 113 se han convertido en ganadores de un Gran Premio.</span>
<span id="cb11-257"><a href="#cb11-257"></a></span>
<span id="cb11-258"><a href="#cb11-258"></a>Nos planteamos en este apartado cuáles han sido “los mejores” de estos 113 afortunados de modo que nos podamos hacer una idea de los dominadores de la categoría.</span>
<span id="cb11-259"><a href="#cb11-259"></a></span>
<span id="cb11-260"><a href="#cb11-260"></a>Antes de hablar de los resultados cabe destacar la gran diferencia entre el calendario de carreras actual del de hace años atrás y cómo esto puede afectar en los resultados pues el calendario actual está formado por 22 carreras, calendario que ha seguido una tendencia ascendente en sus citas pues en 2010 consistía de 19 carreras, 17 en el año 2000, 14 en 1980, etc. Mientras que para esta próxima temporada se pretendían hacer 25. Esto cabe destacar debido a que aquellos pilotos con el coche ganador de las respectivas temporadas pudieron acumular un mayor o menor número de victorias según el vigente calendario.</span>
<span id="cb11-261"><a href="#cb11-261"></a></span>
<span id="cb11-262"><a href="#cb11-262"></a></span>
<span id="cb11-265"><a href="#cb11-265"></a><span class="in">```{r}</span></span>
<span id="cb11-266"><a href="#cb11-266"></a>mayores_victorias <span class="ot">&lt;-</span> <span class="fu">full_join</span>(pilotos, resultados, <span class="fu">c</span>(<span class="st">"driverId"</span> <span class="ot">=</span> <span class="st">"driverId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-267"><a href="#cb11-267"></a>        <span class="fu">full_join</span>(., carreras, <span class="fu">c</span>(<span class="st">"raceId"</span> <span class="ot">=</span> <span class="st">"raceId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-268"><a href="#cb11-268"></a>        <span class="fu">select</span>(driverId, driverRef, position, year, date) <span class="sc">%&gt;%</span> </span>
<span id="cb11-269"><a href="#cb11-269"></a>        <span class="fu">filter</span>(position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-270"><a href="#cb11-270"></a>        <span class="fu">group_by</span>(driverRef) <span class="sc">%&gt;%</span> </span>
<span id="cb11-271"><a href="#cb11-271"></a>        <span class="fu">mutate</span>(<span class="at">victoria_num =</span> <span class="fu">sum</span>( <span class="at">NN =</span> <span class="fu">n</span>())) <span class="sc">%&gt;%</span> </span>
<span id="cb11-272"><a href="#cb11-272"></a>        <span class="fu">filter</span>(victoria_num <span class="sc">&gt;=</span> <span class="dv">25</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-273"><a href="#cb11-273"></a>        <span class="fu">arrange</span>(victoria_num) <span class="sc">%&gt;%</span> </span>
<span id="cb11-274"><a href="#cb11-274"></a>        <span class="fu">mutate</span>( <span class="at">suma_vic =</span> <span class="fu">cumsum</span>(position))<span class="sc">%&gt;%</span></span>
<span id="cb11-275"><a href="#cb11-275"></a>        <span class="fu">arrange</span>(<span class="fu">desc</span>(victoria_num))<span class="sc">%&gt;%</span></span>
<span id="cb11-276"><a href="#cb11-276"></a>        <span class="fu">distinct</span>(victoria_num)</span>
<span id="cb11-277"><a href="#cb11-277"></a>mayores_victorias</span>
<span id="cb11-278"><a href="#cb11-278"></a></span>
<span id="cb11-279"><a href="#cb11-279"></a>G_victorias <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mayores_victorias) <span class="sc">+</span></span>
<span id="cb11-280"><a href="#cb11-280"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(driverRef, <span class="fu">desc</span>(victoria_num)), <span class="at">y =</span> victoria_num) <span class="sc">+</span></span>
<span id="cb11-281"><a href="#cb11-281"></a>        <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#622072"</span>) <span class="sc">+</span></span>
<span id="cb11-282"><a href="#cb11-282"></a>        <span class="fu">labs</span>(</span>
<span id="cb11-283"><a href="#cb11-283"></a>                <span class="at">x =</span> <span class="st">"Pilotos"</span>,</span>
<span id="cb11-284"><a href="#cb11-284"></a>                <span class="at">y =</span> <span class="st">"Nº Victorias"</span>,</span>
<span id="cb11-285"><a href="#cb11-285"></a>                <span class="at">title =</span> <span class="st">"Pilotos con más victorias"</span></span>
<span id="cb11-286"><a href="#cb11-286"></a>        ) <span class="sc">+</span></span>
<span id="cb11-287"><a href="#cb11-287"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb11-288"><a href="#cb11-288"></a>        ggthemes<span class="sc">::</span><span class="fu">theme_par</span>()<span class="sc">+</span></span>
<span id="cb11-289"><a href="#cb11-289"></a>        <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>victoria_num), <span class="at">vjust=</span><span class="fl">0.25</span>,<span class="at">hjust=</span><span class="fl">0.99</span>, <span class="at">color=</span><span class="st">"white"</span>,    </span>
<span id="cb11-290"><a href="#cb11-290"></a>                  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.1</span>),  <span class="at">size=</span><span class="fl">5.0</span></span>
<span id="cb11-291"><a href="#cb11-291"></a>        )</span>
<span id="cb11-292"><a href="#cb11-292"></a>G_victorias</span>
<span id="cb11-293"><a href="#cb11-293"></a></span>
<span id="cb11-294"><a href="#cb11-294"></a></span>
<span id="cb11-295"><a href="#cb11-295"></a><span class="co">#Pilotos con al menos 1 victoria</span></span>
<span id="cb11-296"><a href="#cb11-296"></a></span>
<span id="cb11-297"><a href="#cb11-297"></a>unavictoria <span class="ot">&lt;-</span> <span class="fu">full_join</span>(pilotos, resultados, <span class="fu">c</span>(<span class="st">"driverId"</span> <span class="ot">=</span> <span class="st">"driverId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-298"><a href="#cb11-298"></a>        <span class="fu">full_join</span>(., carreras, <span class="fu">c</span>(<span class="st">"raceId"</span> <span class="ot">=</span> <span class="st">"raceId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-299"><a href="#cb11-299"></a>        <span class="fu">select</span>(driverId, driverRef, position, year, date) <span class="sc">%&gt;%</span> </span>
<span id="cb11-300"><a href="#cb11-300"></a>        <span class="fu">filter</span>(position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-301"><a href="#cb11-301"></a>        <span class="fu">distinct</span>(driverId)</span>
<span id="cb11-302"><a href="#cb11-302"></a>unavictoria</span>
<span id="cb11-303"><a href="#cb11-303"></a><span class="in">```</span></span>
<span id="cb11-304"><a href="#cb11-304"></a></span>
<span id="cb11-305"><a href="#cb11-305"></a></span>
<span id="cb11-306"><a href="#cb11-306"></a>En los resultados obtenidos no encontramos sorpresas pues en primera posición encontramos a Lewis Hamilton (7 títulos) con 103 victorias, gran beneficiario de la “era híbrida” cosechando entre 2014 y 2021 6 títulos mundiales (Mercedes-AMG) de los 7 posibles más su título de 2008 con Mclaren-Mercedes, racha que sólo fue cortada por su compañero de equipo Rosberg en 2016 y en el final de la era híbrida por Verstappen.</span>
<span id="cb11-307"><a href="#cb11-307"></a></span>
<span id="cb11-308"><a href="#cb11-308"></a>En segunda posición y tras ser desbancado de la primera en la temporada 2021 nos encontramos a Michael Schumacher con 91 victorias (7 títulos), leyenda de la Fórmula 1 y mayor racha de títulos seguidos ganados. Ganó dos mundiales seguidos en 1994 y 1995 con el equipo Benetton tras lo que se marchó a Ferrari donde al fin en el año 2000 se alzó con el tercero, racha que continuó hasta 2004 con una aplastante superioridad con 5 títulos consecutivos. No sería otro que Fernando Alonso en 2005 con el Renault R25 quien logró parar la racha del “Káiser”.</span>
<span id="cb11-309"><a href="#cb11-309"></a></span>
<span id="cb11-310"><a href="#cb11-310"></a>En tercera posición nos encontramos a Sebastian Vettel con 53 victorias y 4 títulos con Red-Bull Racing. Vettel, primer gran éxito del programa de jóvenes pilotos de redbull logró sus 4 títulos de forma consecutiva entre 2010 y 2013 con un coche dominador gracias a los diseños de Adrian Newey. En especial recordamos estos años aquí dado que fue en 2010 y 2013, especialmente esta última y las desesperantes vueltas detrás de Petrov, mundiales que se esfumaron para Fernando en la última carrera compitiendo con Sebastian.</span>
<span id="cb11-311"><a href="#cb11-311"></a></span>
<span id="cb11-312"><a href="#cb11-312"></a>En cuarta posición encontramos a Alain Prost con 53 victorias y 4 títulos cosechados, gran rival de Ayrton Senna la cual llevaron hasta decidir los títulos del 89 y 90 con choques entre ellos en la última carrera , se alzó con los títulos de 1985,1986 (Marlboro McLaren), 1989(Mclaren-Honda) y 1993 (Williams-Renault).</span>
<span id="cb11-313"><a href="#cb11-313"></a></span>
<span id="cb11-314"><a href="#cb11-314"></a>En quinto lugar con 41 victorias encontramos a la leyenda brasileña del deporte Ayrton Senna con 3 títulos, 1988,1990 y 1991(Mclaren-Honda), alabado por todos por su forma de conducir y que le llevaría a fallecer en carrera el  1 de mayo de 1994 en el GP de Imola con 34 años al salirse de pista e impactar con un muro a 300 km/h, en una época donde la seguridad de los monoplazas era cuestionable.</span>
<span id="cb11-315"><a href="#cb11-315"></a></span>
<span id="cb11-316"><a href="#cb11-316"></a>En sexto lugar con 35 victorias encontramos a Max Verstappen, vigente campeón con 2 títulos consecutivos junto al equipo Red-Bull. Logró frenar la arrolladora racha del equipo Mercedes-AMG tras una emocionante temporada de 2021 que trataremos más tarde donde el título se decidió en la última vuelta.</span>
<span id="cb11-317"><a href="#cb11-317"></a></span>
<span id="cb11-318"><a href="#cb11-318"></a>El séptimo y último que destacaremos (por motivos nada personales) encontramos a Fernando Alonso(“el Nano”) con 32 victorias y 2 títulos (que bien podrían ser 3 de no ser por el fatal final de 2013) cosechados en 2005 y 2006 con el equipo Renault con el que logró frenar la racha de Ferrari y Schumacher. Como curiosidad vemos que hay visibles paralelismos con la historia actual de Verstappen, al proclamarse ambos campeones por primera vez con 24 años frente a un dominador 7 veces campeón del mundo de 36 años y una racha de 2 títulos seguidos.</span>
<span id="cb11-319"><a href="#cb11-319"></a></span>
<span id="cb11-320"><a href="#cb11-320"></a><span class="fu">## Mejores Pit-Stops en la historia del campeonato</span></span>
<span id="cb11-321"><a href="#cb11-321"></a></span>
<span id="cb11-322"><a href="#cb11-322"></a>Los pit-stop consisten en las paradas que hacen en carrera los pilotos en “boxes” para cambiar ruedas o bien repostar(hasta 2009).</span>
<span id="cb11-323"><a href="#cb11-323"></a></span>
<span id="cb11-324"><a href="#cb11-324"></a>Para este Top-10 hemos extraído los datos del proceso completo de la parada, es decir, desde su entrada en el pit-lane hasta su salida y reincorporación a pista. Esto plantea unas diferencias entre circuitos y épocas debido a que no todos los pit-lane son igual de largos, ni su velocidad media es la misma (debido a que se baja si son más estrechos), así como que hasta la temporada 2009 estaban permitidos los repostajes por los que aumentan el tiempo total.</span>
<span id="cb11-325"><a href="#cb11-325"></a></span>
<span id="cb11-326"><a href="#cb11-326"></a>Para hacernos una idea de la magnitud de estas cifras, la media actual de las paradas en Boxes si todo sale bien es de unos 24 segundos.</span>
<span id="cb11-327"><a href="#cb11-327"></a></span>
<span id="cb11-330"><a href="#cb11-330"></a><span class="in">```{r}</span></span>
<span id="cb11-331"><a href="#cb11-331"></a>mejores_pitstops <span class="ot">&lt;-</span> <span class="fu">full_join</span>(pilotos, pitstops, <span class="fu">c</span>(<span class="st">"driverId"</span> <span class="ot">=</span> <span class="st">"driverId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-332"><a href="#cb11-332"></a>        <span class="fu">full_join</span>(., carreras, <span class="fu">c</span>(<span class="st">"raceId"</span> <span class="ot">=</span> <span class="st">"raceId"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-333"><a href="#cb11-333"></a>        <span class="fu">select</span>(driverRef, milliseconds) <span class="sc">%&gt;%</span> </span>
<span id="cb11-334"><a href="#cb11-334"></a>        <span class="fu">slice_min</span>(milliseconds, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb11-335"><a href="#cb11-335"></a>mejores_pitstops</span>
<span id="cb11-336"><a href="#cb11-336"></a></span>
<span id="cb11-337"><a href="#cb11-337"></a>mejores_pitstops <span class="ot">&lt;-</span> mejores_pitstops <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">milliseconds =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(milliseconds))</span>
<span id="cb11-338"><a href="#cb11-338"></a>mejores_pitstops <span class="ot">&lt;-</span> mejores_pitstops <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">milliseconds =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(milliseconds))</span>
<span id="cb11-339"><a href="#cb11-339"></a></span>
<span id="cb11-340"><a href="#cb11-340"></a>G_pitstops <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mejores_pitstops) <span class="sc">+</span></span>
<span id="cb11-341"><a href="#cb11-341"></a>        <span class="fu">aes</span>(<span class="at">x =</span> driverRef, <span class="at">y =</span> milliseconds) <span class="sc">+</span></span>
<span id="cb11-342"><a href="#cb11-342"></a>        <span class="fu">geom_tile</span>(<span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb11-343"><a href="#cb11-343"></a>        <span class="fu">labs</span>(</span>
<span id="cb11-344"><a href="#cb11-344"></a>                <span class="at">x =</span> <span class="st">"-"</span>,</span>
<span id="cb11-345"><a href="#cb11-345"></a>                <span class="at">y =</span> <span class="st">"milisegundos"</span>,</span>
<span id="cb11-346"><a href="#cb11-346"></a>                <span class="at">title =</span> <span class="st">"10 Pit stops mas rápidos"</span>,</span>
<span id="cb11-347"><a href="#cb11-347"></a>                <span class="at">subtitle =</span> <span class="st">"Desde entrada a Pit-line hasta salida"</span></span>
<span id="cb11-348"><a href="#cb11-348"></a>        ) <span class="sc">+</span></span>
<span id="cb11-349"><a href="#cb11-349"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb11-350"><a href="#cb11-350"></a>        ggthemes<span class="sc">::</span><span class="fu">theme_base</span>()</span>
<span id="cb11-351"><a href="#cb11-351"></a>G_pitstops</span>
<span id="cb11-352"><a href="#cb11-352"></a></span>
<span id="cb11-353"><a href="#cb11-353"></a><span class="in">```</span></span>
<span id="cb11-354"><a href="#cb11-354"></a></span>
<span id="cb11-355"><a href="#cb11-355"></a>Respecto de los datos evidencian lo comentado anteriormente y nos encontramos a los 2 mismos circuitos en las 6 primeras posiciones, siendo en primera posición a Pastor Maldonado con un tiempo de 12.897 segundos en el GP de Abu Dhabi 2011, siendo la segunda marca también en el mismo GP por parte de Bruno Senna con 12.959 segundos.</span>
<span id="cb11-356"><a href="#cb11-356"></a></span>
<span id="cb11-357"><a href="#cb11-357"></a>La tercera mejor marca la encontramos en el GP de Hungría de 2011 por parte de Lewis Hamilton con 13.173 segundos, en cuarta posición en el mismo GP encontramos de nuevo a Maldonado con 13.186 segundos</span>
<span id="cb11-358"><a href="#cb11-358"></a></span>
<span id="cb11-359"><a href="#cb11-359"></a>En quinta y sexta posición y últimas que destacaremos encontramos el GP de Hungría de 2012 a  Michael Schumacher con 12.199 segundos y de nuevo el GP de Hungría 2011 a Sergio Pérez con 13.201 segundos.</span>
<span id="cb11-360"><a href="#cb11-360"></a></span>
<span id="cb11-361"><a href="#cb11-361"></a><span class="fu"># Temporada 2021</span></span>
<span id="cb11-362"><a href="#cb11-362"></a></span>
<span id="cb11-363"><a href="#cb11-363"></a>La temporada 2021 fue una de las temporadas más emocionantes de los últimos tiempos gracias a que la lucha de los dos contendientes por el campeonato de pilotos ha sido intrigante hasta el final. Finalmente, Max Verstappen se llevó la corona de pilotos, mientras que Mercedes la de constructores.</span>
<span id="cb11-364"><a href="#cb11-364"></a></span>
<span id="cb11-367"><a href="#cb11-367"></a><span class="in">```{r}</span></span>
<span id="cb11-368"><a href="#cb11-368"></a>constructores <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-369"><a href="#cb11-369"></a>        <span class="st">"posicion"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>),</span>
<span id="cb11-370"><a href="#cb11-370"></a>        <span class="st">"escuderia"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Mercedes"</span>, <span class="st">"Red Bull"</span>, <span class="st">"Ferrari"</span>, <span class="st">"Mclaren"</span>, <span class="st">"Alpine"</span>, <span class="st">"AlphaTauri"</span>, <span class="st">"Aston Martin"</span>, <span class="st">"Williams"</span>, <span class="st">"Alfa Romeo"</span>, <span class="st">"Haas"</span>),</span>
<span id="cb11-371"><a href="#cb11-371"></a>        <span class="st">"puntos"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">613.5</span>,<span class="fl">585.5</span>,<span class="fl">323.5</span>,<span class="dv">275</span>,<span class="dv">155</span>,<span class="dv">142</span>,<span class="dv">77</span>,<span class="dv">23</span>,<span class="dv">13</span>,<span class="dv">0</span>))</span>
<span id="cb11-372"><a href="#cb11-372"></a></span>
<span id="cb11-373"><a href="#cb11-373"></a></span>
<span id="cb11-374"><a href="#cb11-374"></a>grafico_jose_constructores <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(constructores) <span class="sc">+</span></span>
<span id="cb11-375"><a href="#cb11-375"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(escuderia, <span class="fu">desc</span>(puntos)), <span class="at">y =</span> puntos) <span class="sc">+</span></span>
<span id="cb11-376"><a href="#cb11-376"></a>        <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb11-377"><a href="#cb11-377"></a>        <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Escudería"</span>, </span>
<span id="cb11-378"><a href="#cb11-378"></a>             <span class="at">y =</span> <span class="st">"Puntos"</span>, <span class="at">title =</span> <span class="st">"Campeonato de Constructores"</span>, <span class="at">subtitle =</span> <span class="st">"Escuderías 2021"</span>) <span class="sc">+</span></span>
<span id="cb11-379"><a href="#cb11-379"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb11-380"><a href="#cb11-380"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 16L, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 13L, </span>
<span id="cb11-381"><a href="#cb11-381"></a>                                                                                               <span class="at">hjust =</span> <span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb11-382"><a href="#cb11-382"></a>        <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>puntos), <span class="at">vjust=</span><span class="fl">0.99</span>,<span class="at">hjust=</span><span class="fl">0.49</span>, <span class="at">color=</span><span class="st">"white"</span>,    </span>
<span id="cb11-383"><a href="#cb11-383"></a>                  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.1</span>),  <span class="at">size=</span><span class="fl">4.0</span></span>
<span id="cb11-384"><a href="#cb11-384"></a>        )</span>
<span id="cb11-385"><a href="#cb11-385"></a>grafico_jose_constructores</span>
<span id="cb11-386"><a href="#cb11-386"></a><span class="in">```</span></span>
<span id="cb11-387"><a href="#cb11-387"></a></span>
<span id="cb11-388"><a href="#cb11-388"></a>El campeonato comenzó en Bahréin donde Max empezaba en la pole position con Lewis Hamilton a su lado. Hasta la vuelta 20, el holandés se mantuvo por delante de Hamilton, sin embargo, un error estratégico por parte de Red Bull hizo que el piloto británico lo aprovechara situándose en primera posición a 5 vueltas del final. Sin embargo, en la vuelta 53 de 56, Verstappen consigue rebasar al Mercedes pero tuvo que devolverle la posición por adelantarle por fuera de los límites de pista. De esta manera, Hamilton lograría vencer a Max en la primera carrera del campeonato.</span>
<span id="cb11-389"><a href="#cb11-389"></a></span>
<span id="cb11-390"><a href="#cb11-390"></a>Un punto de inflexión fue el Gran Premio de Mónaco el cual fue para Verstappen absolutamente perfecto. No cometió ni un solo error, se mantuvo en el liderato de inicio a fin mientras que su rival tan solo consiguió una séptima posición. El fin de semana siguiente, tuvo lugar uno de los grandes errores que le hicieron perder el campeonato de pilotos a Hamilton puesto que no supo aprovechar el abandono de Max a 5 vueltas para el final y cometió un error en la resalida tras la bandera roja. Esto provocó que en lugar de quedar primero y sacar 25 puntos de diferencia a su rival en el campeonato, finalizase la carrera en 15º posición obteniendo así 0 puntos.</span>
<span id="cb11-391"><a href="#cb11-391"></a></span>
<span id="cb11-392"><a href="#cb11-392"></a>En la décima carrera del campeonato, el Gran Premio de Gran Bretaña, tuvo lugar el momento más polémico del campeonato e incluso de los últimos tiempos. Verstappen llegaba al fin de semana con 32 puntos de ventaja sobre Lewis y buscaba continuar su racha de 3 triunfos consecutivos. Sin embargo, en la primera vuelta de la carrera, Max toma la delantera en la salida mientras Hamilton se queda en la segunda posición. Al llegar a Copse, una de las curvas más rápidas del campeonato, el de Mercedes expulsó fuera de la pista a Max al tratar de rebasarle provocando que el Red Bull saliera disparado hacia el muro de contención con un impacto de 51 Gs. De esta manera, con su rival fuera de combate, Lewis ganaría la carrera permitiéndole así recortarle 25 puntos al holandés. </span>
<span id="cb11-393"><a href="#cb11-393"></a></span>
<span id="cb11-396"><a href="#cb11-396"></a><span class="in">```{r}</span></span>
<span id="cb11-397"><a href="#cb11-397"></a>piloto <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Verstappen"</span>, <span class="st">"Hamilton"</span>, <span class="st">"Leclerc"</span>, <span class="st">"Sainz"</span>, <span class="st">"Bottas"</span>, <span class="st">"Alonso"</span>, <span class="st">"Pérez"</span>, <span class="st">"Ocon"</span>, <span class="st">"Norris"</span>, <span class="st">"Ricciardo"</span>, <span class="st">"Gasly"</span>, <span class="st">"Tsunoda"</span>, <span class="st">"Vettel"</span>, <span class="st">"Stroll"</span>, <span class="st">"Latifi"</span>, <span class="st">"Russell"</span>, <span class="st">"Mazepin"</span>, <span class="st">"Schumacher"</span>, <span class="st">"Giovinazzi"</span>, <span class="st">"Raikkonen"</span>)</span>
<span id="cb11-398"><a href="#cb11-398"></a>puntos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">395.5</span>,<span class="fl">387.5</span>, <span class="dv">159</span>, <span class="fl">164.5</span>,<span class="dv">226</span>,<span class="dv">81</span>,<span class="dv">190</span>,<span class="dv">74</span>,<span class="dv">160</span>,<span class="dv">115</span>,<span class="dv">110</span>,<span class="dv">32</span>,<span class="dv">43</span>,<span class="dv">34</span>,<span class="dv">7</span>,<span class="dv">16</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">10</span>)</span>
<span id="cb11-399"><a href="#cb11-399"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(puntos, piloto)</span>
<span id="cb11-400"><a href="#cb11-400"></a></span>
<span id="cb11-401"><a href="#cb11-401"></a>grafico_jose_pilotos <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb11-402"><a href="#cb11-402"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(piloto, <span class="fu">desc</span>(puntos)), <span class="at">y =</span> puntos) <span class="sc">+</span></span>
<span id="cb11-403"><a href="#cb11-403"></a>        <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#440154"</span>) <span class="sc">+</span></span>
<span id="cb11-404"><a href="#cb11-404"></a>        <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Pilotos"</span>, <span class="at">y =</span> <span class="st">"Puntos"</span>, </span>
<span id="cb11-405"><a href="#cb11-405"></a>             <span class="at">title =</span> <span class="st">"Campeonato de Pilotos"</span>) <span class="sc">+</span></span>
<span id="cb11-406"><a href="#cb11-406"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb11-407"><a href="#cb11-407"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 16L, </span>
<span id="cb11-408"><a href="#cb11-408"></a>                                        <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 12L, <span class="at">face =</span> <span class="st">"bold"</span>), <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> 12L, </span>
<span id="cb11-409"><a href="#cb11-409"></a>                                                                                                                                                         <span class="at">face =</span> <span class="st">"bold"</span>))<span class="sc">+</span></span>
<span id="cb11-410"><a href="#cb11-410"></a>        <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>puntos), <span class="at">vjust=</span><span class="fl">0.99</span>,<span class="at">hjust=</span><span class="fl">0.49</span>, <span class="at">color=</span><span class="st">"white"</span>,    </span>
<span id="cb11-411"><a href="#cb11-411"></a>                  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.1</span>),  <span class="at">size=</span><span class="fl">4.0</span>)</span>
<span id="cb11-412"><a href="#cb11-412"></a></span>
<span id="cb11-413"><a href="#cb11-413"></a>grafico_jose_pilotos</span>
<span id="cb11-414"><a href="#cb11-414"></a><span class="in">```</span></span>
</code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">© 2022 Alejandro, Victor y Jose Maria</div>   
      <div class="nav-footer-center">Hecho con <a href="https://quarto.org">Quarto</a></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/alexhortelano6">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:<ahormar>@alumni.uv.es">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>